var Ln=Object.defineProperty;var Tn=(t,e,l)=>e in t?Ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var sl=(t,e,l)=>Tn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();function x(){}function kn(t){return t()}function jl(){return Object.create(null)}function _e(t){t.forEach(kn)}function bn(t){return typeof t=="function"}function Oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Rt;function Me(t,e){return t===e?!0:(Rt||(Rt=document.createElement("a")),Rt.href=e,t===Rt.href)}function In(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null){for(const n of e)n(void 0);return x}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function wt(t,e,l){t.$$.on_destroy.push(Pn(e,l))}function r(t,e){t.appendChild(e)}function A(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Ge(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function _(){return k(" ")}function fl(){return k("")}function H(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function wn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Bt(t){return t===""?null:+t}function Nn(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function he(t,e){t.value=e??""}function ce(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Fe(t,e,l){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function X(t,e,l){t.classList.toggle(e,!!l)}function Dn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let Ct;function yt(t){Ct=t}function yn(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function Cn(t){yn().$$.on_mount.push(t)}function Vt(){const t=yn();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Dn(e,l,{cancelable:n});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function Fl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const ot=[],il=[];let it=[];const Ol=[],Rn=Promise.resolve();let al=!1;function jn(){al||(al=!0,Rn.then(Sn))}function cl(t){it.push(t)}const rl=new Set;let st=0;function Sn(){if(st!==0)return;const t=Ct;do{try{for(;st<ot.length;){const e=ot[st];st++,yt(e),Fn(e.$$)}}catch(e){throw ot.length=0,st=0,e}for(yt(null),ot.length=0,st=0;il.length;)il.pop()();for(let e=0;e<it.length;e+=1){const l=it[e];rl.has(l)||(rl.add(l),l())}it.length=0}while(ot.length);for(;Ol.length;)Ol.pop()();al=!1,rl.clear(),yt(t)}function Fn(t){if(t.fragment!==null){t.update(),_e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(cl)}}function On(t){const e=[],l=[];it.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),it=e}const jt=new Set;let Ye;function An(){Ye={r:0,c:[],p:Ye}}function qn(){Ye.r||_e(Ye.c),Ye=Ye.p}function Ce(t,e){t&&t.i&&(jt.delete(t),t.i(e))}function Qe(t,e,l,n){if(t&&t.o){if(jt.has(t))return;jt.add(t),Ye.c.push(()=>{jt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ut(t){t&&t.c()}function Je(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),cl(()=>{const o=t.$$.on_mount.map(kn).filter(bn);t.$$.on_destroy?t.$$.on_destroy.push(...o):_e(o),t.$$.on_mount=[]}),s.forEach(cl)}function Ze(t,e){const l=t.$$;l.fragment!==null&&(On(l.after_update),_e(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(ot.push(t),jn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xe(t,e,l,n,s,o,i=null,c=[-1]){const f=Ct;yt(t);const u=t.$$={fragment:null,ctx:[],props:o,update:x,not_equal:s,bound:jl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:jl(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};i&&i(u.root);let m=!1;if(u.ctx=l?l(t,e.props||{},(g,p,...v)=>{const b=v.length?v[0]:p;return u.ctx&&s(u.ctx[g],u.ctx[g]=b)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](b),m&&Bn(t,g)),p}):[],u.update(),m=!0,_e(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const g=Nn(e.target);u.fragment&&u.fragment.l(g),g.forEach(S)}else u.fragment&&u.fragment.c();e.intro&&Ce(t.$$.fragment),Je(t,e.target,e.anchor),Sn()}yt(f)}class $e{constructor(){sl(this,"$$");sl(this,"$$set")}$destroy(){Ze(this,1),this.$destroy=x}$on(e,l){if(!bn(l))return x;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!In(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hn);const zn="https://api.tcgdex.net/v2/en";function En(t,e){const l=t.split("-")[1];return`https://assets.tcgdex.net/en/${Vn(e)}/${e}/${l}/high.webp`}function Vn(t){return t.startsWith("swsh")?"swsh":t.startsWith("sv")?"sv":t.startsWith("me")?"base":"swsh"}async function ul(t){try{const e=await fetch(`${zn}/sets/${t}`);if(!e.ok)throw new Error("Failed to fetch cards from set");return((await e.json()).cards||[]).map(s=>({id:s.id,localId:s.localId,name:s.name,image:En(s.id,t)}))}catch(e){throw console.error("Error fetching cards from set:",e),e}}async function Kn(t,e){try{const l=await fetch(`${zn}/cards/${t}`);if(!l.ok)throw new Error("Failed to fetch card details");return{...await l.json(),image:En(t,e)}}catch(l){throw console.error("Error fetching card details:",l),l}}function Un(t){const e=Math.floor(Math.random()*t.length);return t[e]}const dl="pokemon-tcg-collection",Mn="2.0";function Wn(){return{totalQuestions:0,correctAnswers:0,incorrectAnswers:0,totalHpDefeated:0}}function ol(){return{cards:[],stats:Wn(),version:Mn}}function Ee(){try{const t=localStorage.getItem(dl);if(!t)return ol();const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?(console.warn("Invalid collection format, resetting..."),ol()):(e.stats.totalHpDefeated||(e.stats.totalHpDefeated=0),e.currentStreak||(e.currentStreak=0),e.unlockedRareSets||(e.unlockedRareSets={}),e)}catch(t){return console.error("Error loading collection from local storage:",t),ol()}}function at(t){try{const e={...t,version:Mn};localStorage.setItem(dl,JSON.stringify(e))}catch(e){throw console.error("Error saving collection to local storage:",e),new Error("Failed to save collection")}}function Yn(t){try{const e=Ee();return e.cards.some(n=>n.id===t.id)?!1:(e.cards.push(t),at(e),!0)}catch(e){return console.error("Error adding card to collection:",e),!1}}function Gn(t,e){try{const l=Ee();l.stats.totalQuestions++,t?(l.stats.correctAnswers++,e&&(l.stats.totalHpDefeated+=e)):l.stats.incorrectAnswers++,at(l)}catch(l){console.error("Error updating stats:",l)}}function Jn(){try{localStorage.removeItem(dl)}catch(t){console.error("Error clearing collection:",t)}}function Zn(){const t=Ee();return JSON.stringify(t,null,2)}function Xn(t){try{const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?{success:!1,error:"Invalid collection format"}:!e.stats.totalQuestions===void 0||!e.stats.correctAnswers===void 0||!e.stats.incorrectAnswers===void 0?{success:!1,error:"Invalid stats format"}:(at(e),{success:!0})}catch(e){return console.error("Error importing collection:",e),{success:!1,error:"Failed to parse JSON file"}}}function Bl(t){const e=Math.floor(Math.random()*9)+1,l=Math.floor(Math.random()*9)+1,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function Hl(t){const e=["+","-"],l=e[Math.floor(Math.random()*e.length)];let n,s;if(l==="+"){const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i,s=t.mathQuestion(o,i,"+")}else{const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i;const c=n;n=o,s=t.mathQuestion(c,i,"-")}return{question:s,answer:n}}function $n(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=["+","-"],s=n[Math.floor(Math.random()*n.length)];let o,i;if(s==="+")o=e+l,i=t.mathQuestion(e,l,"+");else{o=e+l;const c=o;o=e,i=t.mathQuestion(c,l,"-")}return{question:i,answer:o}}function xn(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function es(t,e,l=!1,n=4){if(!t)return null;let s,o,i=!1,c,f;if(n===1){const u=Bl(e);s=u.question,o=u.answer}else if(n===2||n===3){const u=Hl(e);s=u.question,o=u.answer}else if(t.hp&&t.hp>0){i=!0;const u=[10,20,30,40,50,60,60,80,120,300][Math.floor(Math.random()*5)];o=Math.ceil(t.hp/u),s=e.damageQuestion(u)}else{const u=$n(e);s=u.question,o=u.answer}if(l)if(n===1){const u=Bl(e);c=u.question,f=u.answer}else if(n===2||n===3){const u=Hl(e);c=u.question,f=u.answer}else{const u=xn(e);c=u.question,f=u.answer}return{card:t,questionText:s,correctAnswer:o,isPokemon:i,secondQuestion:c,secondAnswer:f}}function ts(t,e,l){const n=e===t.correctAnswer;if(t.secondQuestion&&t.secondAnswer!==void 0){const s=l===t.secondAnswer;return n&&s}return n}const rt=[];function ml(t,e=x){let l;const n=new Set;function s(c){if(Oe(t,c)&&(t=c,l)){const f=!rt.length;for(const u of n)u[1](),rt.push(u,t);if(f){for(let u=0;u<rt.length;u+=2)rt[u][0](rt[u+1]);rt.length=0}}}function o(c){s(c(t))}function i(c,f=x){const u=[c,f];return n.add(u),n.size===1&&(l=e(s,o)||x),c(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:s,update:o,subscribe:i}}const Ft=[{id:"swsh3",name:"Sword & Shield - Darkness Ablaze"},{id:"sv05",name:"Scarlet & Violet - Temporal Forces"},{id:"sv06.5",name:"Scarlet & Violet - Shrouded Fable"}],Qn="tcg-math-settings";function ls(){return{language:"en",selectedSet:"swsh3",klassetrinn:4}}function Kt(){try{const t=localStorage.getItem(Qn);if(t){const e=JSON.parse(t);return{language:e.language||"en",selectedSet:e.selectedSet||"swsh3",klassetrinn:e.klassetrinn||4}}}catch(t){console.error("Error loading settings:",t)}return ls()}function gl(t){try{localStorage.setItem(Qn,JSON.stringify(t))}catch(e){console.error("Error saving settings:",e)}}const vl=Kt(),Ot=ml(vl.language),Ht=ml(vl.selectedSet),St=ml(vl.klassetrinn);Ot.subscribe(t=>{const e=Kt();gl({...e,language:t})});Ht.subscribe(t=>{const e=Kt();gl({...e,selectedSet:t})});St.subscribe(t=>{const e=Kt();gl({...e,klassetrinn:t})});const ns={en:{appTitle:"cardCrun.ch",quizTitle:"TCG Math Challenge",playQuiz:"Play Quiz",myCollection:"My Collection",selectSet:"Select Set",selectLanguage:"Language",setInfo:"Collecting Set",enterAnswer:"Enter your answer",submitAnswer:"Submit Answer",nextQuestion:"Next Question",correct:"Correct!",notQuite:"Not quite!",correctMessage:"Great job! The answer was",incorrectMessage:"You answered",encouragement:"Try again with the next question!",youWonThisCard:"You won this card!",cardsCollected:"Cards Collected",questionsAnswered:"Questions Answered",correctAnswers:"Correct Answers",accuracy:"Accuracy",noCardsYet:"No cards yet!",noCardsDescription:"Answer questions correctly to start building your collection.",exportBackup:"Export Backup",importBackup:"Import Backup",clearThisSet:"Clear This Set",clearCollectionTitle:"Clear Collection?",clearCollectionMessage:"Are you sure you want to clear your entire collection? This action cannot be undone.",cancel:"Cancel",clearCollection:"Clear Collection",collectionExported:"Collection exported successfully!",collectionImported:"Collection imported successfully!",collectionCleared:"Collection cleared successfully!",exportFailed:"Failed to export collection",importFailed:"Failed to import collection",clearFailed:"Failed to clear collection",hit:"hit",hits:"hits",loading:"Loading new question...",yourCollection:"Your Collection",language:"Language",gradeLevel:"Grade Level",damageQuestion:t=>`Your Pok√©mon deals ${t} damage each turn. How many turns does it take to defeat this Pok√©mon?`,mathQuestion:(t,e,l)=>`What is ${t} ${l} ${e}?`},no:{appTitle:"cardCrun.ch",quizTitle:"TCG Matte Utfordring",playQuiz:"Spill Quiz",myCollection:"Min Samling",selectSet:"Velg Sett",selectLanguage:"Spr√•k",setInfo:"Samler Sett",enterAnswer:"Skriv inn svaret ditt",submitAnswer:"Send Inn Svar",nextQuestion:"Neste Sp√∏rsm√•l",correct:"Riktig!",notQuite:"Ikke helt!",correctMessage:"Bra jobbet! Svaret var",incorrectMessage:"Du svarte",encouragement:"Pr√∏v igjen med neste sp√∏rsm√•l!",youWonThisCard:"Du vant dette kortet!",cardsCollected:"Kort Samlet",questionsAnswered:"Sp√∏rsm√•l Besvart",correctAnswers:"Riktige Svar",accuracy:"N√∏yaktighet",noCardsYet:"Ingen kort enn√•!",noCardsDescription:"Svar riktig p√• sp√∏rsm√•l for √• begynne √• bygge samlingen din.",exportBackup:"Eksporter Backup",importBackup:"Importer Backup",clearThisSet:"T√∏m Dette Settet",clearCollectionTitle:"T√∏m Samling?",clearCollectionMessage:"Er du sikker p√• at du vil t√∏mme hele samlingen din? Denne handlingen kan ikke angres.",cancel:"Avbryt",clearCollection:"T√∏m Samling",collectionExported:"Samling eksportert!",collectionImported:"Samling importert!",collectionCleared:"Samling t√∏mt!",exportFailed:"Kunne ikke eksportere samling",importFailed:"Kunne ikke importere samling",clearFailed:"Kunne ikke t√∏mme samling",hit:"treff",hits:"treff",loading:"Laster nytt sp√∏rsm√•l...",yourCollection:"Din Samling",language:"Spr√•k",gradeLevel:"Klassetrinn",damageQuestion:t=>`Din Pok√©mon gj√∏r ${t} skade hver runde. Hvor mange runder tar det √• beseire denne Pok√©monen?`,mathQuestion:(t,e,l)=>`Hva er ${t} ${l} ${e}?`}};function ss(t){return ns[t]}const ct=1e4;function Vl(t,e,l){const n=t.slice();return n[4]=e[l],n}function Kl(t){let e,l,n=t[0].rarity+"",s;return{c(){e=d("div"),l=d("span"),s=k(n),a(l,"class","rarity-badge svelte-1gymiiy"),a(e,"class","card-rarity svelte-1gymiiy")},m(o,i){A(o,e,i),r(e,l),r(l,s)},p(o,i){i&1&&n!==(n=o[0].rarity+"")&&z(s,n)},d(o){o&&S(e)}}}function Ul(t){let e,l,n,s=ye(t[0].attacks),o=[];for(let i=0;i<s.length;i+=1)o[i]=Yl(Vl(t,s,i));return{c(){e=d("div"),l=d("h4"),l.textContent="Attacks:",n=_();for(let i=0;i<o.length;i+=1)o[i].c();a(l,"class","svelte-1gymiiy"),a(e,"class","card-attacks svelte-1gymiiy")},m(i,c){A(i,e,c),r(e,l),r(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null)},p(i,c){if(c&5){s=ye(i[0].attacks);let f;for(f=0;f<s.length;f+=1){const u=Vl(i,s,f);o[f]?o[f].p(u,c):(o[f]=Yl(u),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(i){i&&S(e),Ge(o,i)}}}function Wl(t){let e,l=t[4].damage+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","attack-damage svelte-1gymiiy")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o&1&&l!==(l=s[4].damage+"")&&z(n,l)},d(s){s&&S(e)}}}function Yl(t){let e,l,n=t[4].name+"",s,o,i,c=t[4].damage&&Wl(t);return{c(){e=d("div"),l=d("span"),s=k(n),o=_(),c&&c.c(),i=_(),a(l,"class","attack-name svelte-1gymiiy"),a(e,"class","attack svelte-1gymiiy"),X(e,"highlighted",t[2]===t[4].name)},m(f,u){A(f,e,u),r(e,l),r(l,s),r(e,o),c&&c.m(e,null),r(e,i)},p(f,u){u&1&&n!==(n=f[4].name+"")&&z(s,n),f[4].damage?c?c.p(f,u):(c=Wl(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),u&5&&X(e,"highlighted",f[2]===f[4].name)},d(f){f&&S(e),c&&c.d()}}}function rs(t){let e,l,n,s,o,i,c,f,u=t[0].name+"",m,g,p,v=t[3]&&t[0].rarity&&Kl(t),b=t[1]&&t[0].attacks&&t[0].attacks.length>0&&Ul(t);return{c(){e=d("div"),l=d("div"),n=d("img"),i=_(),c=d("div"),f=d("h3"),m=k(u),g=_(),v&&v.c(),p=_(),b&&b.c(),Me(n.src,s=t[0].image)||a(n,"src",s),a(n,"alt",o=t[0].name),a(n,"class","svelte-1gymiiy"),a(l,"class","card-image svelte-1gymiiy"),a(f,"class","card-name svelte-1gymiiy"),a(c,"class","card-info svelte-1gymiiy"),a(e,"class","pokemon-card svelte-1gymiiy")},m(h,y){A(h,e,y),r(e,l),r(l,n),r(e,i),r(e,c),r(c,f),r(f,m),r(c,g),v&&v.m(c,null),r(c,p),b&&b.m(c,null)},p(h,[y]){y&1&&!Me(n.src,s=h[0].image)&&a(n,"src",s),y&1&&o!==(o=h[0].name)&&a(n,"alt",o),y&1&&u!==(u=h[0].name+"")&&z(m,u),h[3]&&h[0].rarity?v?v.p(h,y):(v=Kl(h),v.c(),v.m(c,p)):v&&(v.d(1),v=null),h[1]&&h[0].attacks&&h[0].attacks.length>0?b?b.p(h,y):(b=Ul(h),b.c(),b.m(c,null)):b&&(b.d(1),b=null)},i:x,o:x,d(h){h&&S(e),v&&v.d(),b&&b.d()}}}function os(t,e,l){let{card:n}=e,{showAttacks:s=!1}=e,{highlightedAttack:o=null}=e,{showRarity:i=!1}=e;return t.$$set=c=>{"card"in c&&l(0,n=c.card),"showAttacks"in c&&l(1,s=c.showAttacks),"highlightedAttack"in c&&l(2,o=c.highlightedAttack),"showRarity"in c&&l(3,i=c.showRarity)},[n,s,o,i]}class is extends $e{constructor(e){super(),Xe(this,e,os,rs,Oe,{card:0,showAttacks:1,highlightedAttack:2,showRarity:3})}}function Gl(t){let e;return{c(){e=d("span"),e.textContent="1.",a(e,"class","question-number svelte-174fqld")},m(l,n){A(l,e,n)},d(l){l&&S(e)}}}function Jl(t){let e,l,n,s,o=t[0].secondQuestion+"",i,c,f,u,m,g,p;return{c(){e=d("div"),l=d("span"),l.textContent="2.",n=_(),s=d("h3"),i=k(o),c=_(),f=d("div"),u=d("input"),a(l,"class","question-number svelte-174fqld"),a(s,"class","question-text svelte-174fqld"),a(e,"class","question-item svelte-174fqld"),ce(e,"padding-top","2em"),a(u,"type","number"),a(u,"placeholder",m=t[1].enterAnswer),a(u,"class","answer-input svelte-174fqld"),a(f,"class","input-group svelte-174fqld")},m(v,b){A(v,e,b),r(e,l),r(e,n),r(e,s),r(s,i),A(v,c,b),A(v,f,b),r(f,u),he(u,t[3]),g||(p=[H(u,"input",t[8]),H(u,"keypress",t[5])],g=!0)},p(v,b){b&1&&o!==(o=v[0].secondQuestion+"")&&z(i,o),b&2&&m!==(m=v[1].enterAnswer)&&a(u,"placeholder",m),b&8&&Bt(u.value)!==v[3]&&he(u,v[3])},d(v){v&&(S(e),S(c),S(f)),g=!1,_e(p)}}}function as(t){let e,l,n,s,o,i,c,f,u,m=t[0].questionText+"",g,p,v,b,h,y,D,M,Q=t[1].submitAnswer+"",L,E,q,N,B,P,T;n=new is({props:{card:t[0].card,showRarity:!0}});let I=t[0].secondQuestion&&Gl(),F=t[0].secondQuestion&&Jl(t);return{c(){e=d("div"),l=d("div"),ut(n.$$.fragment),s=_(),o=d("div"),i=d("div"),c=d("div"),I&&I.c(),f=_(),u=d("h3"),g=k(m),p=_(),v=d("div"),b=d("input"),y=_(),F&&F.c(),D=_(),M=d("button"),L=k(Q),q=_(),N=d("a"),N.innerHTML='<img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=8a579qzwg3m7e55xdnrwxqlhshnb21xd" border="0" title="page counter" alt="page counter" style="width: 20px;"/>',a(l,"class","card-display svelte-174fqld"),a(u,"class","question-text svelte-174fqld"),a(c,"class","question-item svelte-174fqld"),a(b,"type","number"),a(b,"placeholder",h=t[1].enterAnswer),a(b,"class","answer-input svelte-174fqld"),a(v,"class","input-group svelte-174fqld"),a(M,"class","submit-btn btn-primary svelte-174fqld"),ce(M,"margin-top","2em"),M.disabled=E=!t[2]||t[0].secondQuestion&&!t[3],a(i,"class","questions-list svelte-174fqld"),a(o,"class","question-container svelte-174fqld"),a(e,"class","quiz-view svelte-174fqld"),a(N,"href","https://www.freecounterstat.com"),a(N,"title","page counter")},m(O,G){A(O,e,G),r(e,l),Je(n,l,null),r(e,s),r(e,o),r(o,i),r(i,c),I&&I.m(c,null),r(c,f),r(c,u),r(u,g),r(i,p),r(i,v),r(v,b),he(b,t[2]),r(i,y),F&&F.m(i,null),r(i,D),r(i,M),r(M,L),A(O,q,G),A(O,N,G),B=!0,P||(T=[H(b,"input",t[7]),H(b,"keypress",t[5]),H(M,"click",t[4])],P=!0)},p(O,[G]){const Y={};G&1&&(Y.card=O[0].card),n.$set(Y),O[0].secondQuestion?I||(I=Gl(),I.c(),I.m(c,f)):I&&(I.d(1),I=null),(!B||G&1)&&m!==(m=O[0].questionText+"")&&z(g,m),(!B||G&2&&h!==(h=O[1].enterAnswer))&&a(b,"placeholder",h),G&4&&Bt(b.value)!==O[2]&&he(b,O[2]),O[0].secondQuestion?F?F.p(O,G):(F=Jl(O),F.c(),F.m(i,D)):F&&(F.d(1),F=null),(!B||G&2)&&Q!==(Q=O[1].submitAnswer+"")&&z(L,Q),(!B||G&13&&E!==(E=!O[2]||O[0].secondQuestion&&!O[3]))&&(M.disabled=E)},i(O){B||(Ce(n.$$.fragment,O),B=!0)},o(O){Qe(n.$$.fragment,O),B=!1},d(O){O&&(S(e),S(q),S(N)),Ze(n),I&&I.d(),F&&F.d(),P=!1,_e(T)}}}function cs(t,e,l){let{question:n}=e,{t:s}=e,{currentSet:o}=e;const i=Vt();let c="",f="";function u(){const v=parseInt(c,10);if(!isNaN(v))if(n.secondQuestion&&n.secondAnswer!==void 0){const b=parseInt(f,10);isNaN(b)||i("answer",{firstAnswer:v,secondAnswer:b})}else i("answer",{firstAnswer:v})}function m(v){v.key==="Enter"&&u()}function g(){c=Bt(this.value),l(2,c)}function p(){f=Bt(this.value),l(3,f)}return t.$$set=v=>{"question"in v&&l(0,n=v.question),"t"in v&&l(1,s=v.t),"currentSet"in v&&l(6,o=v.currentSet)},[n,s,c,f,u,m,o,g,p]}class us extends $e{constructor(e){super(),Xe(this,e,cs,as,Oe,{question:0,t:1,currentSet:6})}}function fs(t){let e,l,n,s=t[4].notQuite+"",o,i,c,f=t[4].incorrectMessage+"",u,m,g,p,v,b=t[4].correctMessage.toLowerCase()+"",h,y,D,M,Q,L,E,q,N=t[4].encouragement+"",B,P=t[5]&&t[6]>0&&Zl(t);return{c(){e=d("div"),e.textContent="‚úó",l=_(),n=d("h2"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("strong"),p=k(t[2]),v=k(", "),h=k(b),y=_(),D=d("strong"),M=k(t[1]),Q=k("."),L=_(),P&&P.c(),E=_(),q=d("p"),B=k(N),a(e,"class","result-icon error svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(g,"class","svelte-1v74pgf"),a(D,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf"),a(q,"class","encouragement svelte-1v74pgf")},m(T,I){A(T,e,I),A(T,l,I),A(T,n,I),r(n,o),A(T,i,I),A(T,c,I),r(c,u),r(c,m),r(c,g),r(g,p),r(c,v),r(c,h),r(c,y),r(c,D),r(D,M),r(c,Q),A(T,L,I),P&&P.m(T,I),A(T,E,I),A(T,q,I),r(q,B)},p(T,I){I&16&&s!==(s=T[4].notQuite+"")&&z(o,s),I&16&&f!==(f=T[4].incorrectMessage+"")&&z(u,f),I&4&&z(p,T[2]),I&16&&b!==(b=T[4].correctMessage.toLowerCase()+"")&&z(h,b),I&2&&z(M,T[1]),T[5]&&T[6]>0?P?P.p(T,I):(P=Zl(T),P.c(),P.m(E.parentNode,E)):P&&(P.d(1),P=null),I&16&&N!==(N=T[4].encouragement+"")&&z(B,N)},d(T){T&&(S(e),S(l),S(n),S(i),S(c),S(L),S(E),S(q)),P&&P.d(T)}}}function ds(t){let e,l,n,s=t[4].correct+"",o,i,c,f=t[4].correctMessage+"",u,m,g,p,v,b=(t[1]===1?t[4].hit:t[4].hits)+"",h,y,D,M,Q,L=t[5]&&!t[3]&&Xl(t),E=t[3]&&$l(t);return{c(){e=d("div"),e.textContent="‚úì",l=_(),n=d("h2"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("strong"),p=k(t[1]),v=_(),h=k(b),y=k("!"),D=_(),L&&L.c(),M=_(),E&&E.c(),Q=fl(),a(e,"class","result-icon success svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(g,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf")},m(q,N){A(q,e,N),A(q,l,N),A(q,n,N),r(n,o),A(q,i,N),A(q,c,N),r(c,u),r(c,m),r(c,g),r(g,p),r(c,v),r(c,h),r(c,y),A(q,D,N),L&&L.m(q,N),A(q,M,N),E&&E.m(q,N),A(q,Q,N)},p(q,N){N&16&&s!==(s=q[4].correct+"")&&z(o,s),N&16&&f!==(f=q[4].correctMessage+"")&&z(u,f),N&2&&z(p,q[1]),N&18&&b!==(b=(q[1]===1?q[4].hit:q[4].hits)+"")&&z(h,b),q[5]&&!q[3]?L?L.p(q,N):(L=Xl(q),L.c(),L.m(M.parentNode,M)):L&&(L.d(1),L=null),q[3]?E?E.p(q,N):(E=$l(q),E.c(),E.m(Q.parentNode,Q)):E&&(E.d(1),E=null)},d(q){q&&(S(e),S(l),S(n),S(i),S(c),S(D),S(M),S(Q)),L&&L.d(q),E&&E.d(q)}}}function Zl(t){let e,l=t[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.",n;return{c(){e=d("p"),n=k(l),a(e,"class","streak-lost svelte-1v74pgf")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o&16&&l!==(l=s[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.")&&z(n,l)},d(s){s&&S(e)}}}function Xl(t){let e,l,n,s,o,i,c;function f(g,p){return g[7]===1?gs:ms}let u=f(t),m=u(t);return{c(){e=d("div"),l=d("p"),m.c(),n=_(),s=d("div"),o=d("div"),i=_(),c=d("div"),a(l,"class","streak-text svelte-1v74pgf"),a(o,"class","streak-dot svelte-1v74pgf"),X(o,"filled",t[7]>=1),a(c,"class","streak-dot svelte-1v74pgf"),X(c,"filled",t[7]>=2),a(s,"class","streak-progress svelte-1v74pgf"),a(e,"class","streak-info svelte-1v74pgf")},m(g,p){A(g,e,p),r(e,l),m.m(l,null),r(e,n),r(e,s),r(s,o),r(s,i),r(s,c)},p(g,p){u===(u=f(g))&&m?m.p(g,p):(m.d(1),m=u(g),m&&(m.c(),m.m(l,null))),p&128&&X(o,"filled",g[7]>=1),p&128&&X(c,"filled",g[7]>=2)},d(g){g&&S(e),m.d()}}}function ms(t){let e=t[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!")&&z(l,e)},d(n){n&&S(l)}}}function gs(t){let e=t[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!")&&z(l,e)},d(n){n&&S(l)}}}function $l(t){let e,l,n=t[4].youWonThisCard+"",s,o,i,c,f,u,m,g,p,v=t[3].name+"",b;return{c(){e=d("div"),l=d("h3"),s=k(n),o=_(),i=d("div"),c=d("div"),f=d("img"),g=_(),p=d("span"),b=k(v),a(l,"class","svelte-1v74pgf"),Me(f.src,u=t[3].image)||a(f,"src",u),a(f,"alt",m=t[3].name),a(f,"class","svelte-1v74pgf"),a(p,"class","card-name svelte-1v74pgf"),a(c,"class","mini-card svelte-1v74pgf"),a(i,"class","cards-grid svelte-1v74pgf"),a(e,"class","won-cards svelte-1v74pgf")},m(h,y){A(h,e,y),r(e,l),r(l,s),r(e,o),r(e,i),r(i,c),r(c,f),r(c,g),r(c,p),r(p,b)},p(h,y){y&16&&n!==(n=h[4].youWonThisCard+"")&&z(s,n),y&8&&!Me(f.src,u=h[3].image)&&a(f,"src",u),y&8&&m!==(m=h[3].name)&&a(f,"alt",m),y&8&&v!==(v=h[3].name+"")&&z(b,v)},d(h){h&&S(e)}}}function vs(t){let e,l,n,s,o=t[4].nextQuestion+"",i,c,f;function u(p,v){return p[0]?ds:fs}let m=u(t),g=m(t);return{c(){e=d("div"),l=d("div"),g.c(),n=_(),s=d("button"),i=k(o),a(l,"class","result-card svelte-1v74pgf"),X(l,"correct",t[0]),X(l,"incorrect",!t[0]),a(s,"class","next-btn btn-primary svelte-1v74pgf"),a(e,"class","result-view svelte-1v74pgf")},m(p,v){A(p,e,v),r(e,l),g.m(l,null),r(e,n),r(e,s),r(s,i),c||(f=H(s,"click",t[8]),c=!0)},p(p,[v]){m===(m=u(p))&&g?g.p(p,v):(g.d(1),g=m(p),g&&(g.c(),g.m(l,null))),v&1&&X(l,"correct",p[0]),v&1&&X(l,"incorrect",!p[0]),v&16&&o!==(o=p[4].nextQuestion+"")&&z(i,o)},i:x,o:x,d(p){p&&S(e),g.d(),c=!1,f()}}}function ps(t,e,l){let{isCorrect:n}=e,{correctAnswer:s}=e,{userAnswer:o}=e,{wonCard:i}=e,{t:c}=e,{needsStreak:f=!1}=e,{streakProgress:u=0}=e,{currentStreak:m=0}=e;const g=Vt();function p(){g("next")}return t.$$set=v=>{"isCorrect"in v&&l(0,n=v.isCorrect),"correctAnswer"in v&&l(1,s=v.correctAnswer),"userAnswer"in v&&l(2,o=v.userAnswer),"wonCard"in v&&l(3,i=v.wonCard),"t"in v&&l(4,c=v.t),"needsStreak"in v&&l(5,f=v.needsStreak),"streakProgress"in v&&l(6,u=v.streakProgress),"currentStreak"in v&&l(7,m=v.currentStreak)},[n,s,o,i,c,f,u,m,p]}class hs extends $e{constructor(e){super(),Xe(this,e,ps,vs,Oe,{isCorrect:0,correctAnswer:1,userAnswer:2,wonCard:3,t:4,needsStreak:5,streakProgress:6,currentStreak:7})}}function _s(){try{const t=Zn(),e=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=`pokemon-collection-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}catch(t){throw console.error("Error downloading backup:",t),new Error("Failed to download backup")}}function ks(t){return new Promise(e=>{const l=new FileReader;l.onload=n=>{var s;try{const o=(s=n.target)==null?void 0:s.result,i=Xn(o);e(i)}catch(o){console.error("Error reading file:",o),e({success:!1,error:"Failed to read file"})}},l.onerror=()=>{e({success:!1,error:"Failed to read file"})},l.readAsText(t)})}function xl(t,e,l){const n=t.slice();return n[43]=e[l],n}function en(t,e,l){const n=t.slice();return n[46]=e[l],n}function tn(t,e,l){const n=t.slice();return n[43]=e[l],n}function ln(t,e,l){const n=t.slice();return n[46]=e[l],n}function bs(t,e,l){const n=t.slice();return n[53]=e[l],n}function ws(t){let e;return{c(){e=d("option"),e.textContent=`${t[53].name}`,e.__value=t[53].id,he(e,e.__value),a(e,"class","svelte-f04vdu")},m(l,n){A(l,e,n)},p:x,d(l){l&&S(e)}}}function nn(t){let e,l,n=t[2]==="en"?`${t[14]} missing`:`${t[14]} mangler`,s,o;return{c(){e=d("span"),l=k("("),s=k(n),o=k(")"),a(e,"class","missing-count svelte-f04vdu")},m(i,c){A(i,e,c),r(e,l),r(e,s),r(e,o)},p(i,c){c[0]&16388&&n!==(n=i[2]==="en"?`${i[14]} missing`:`${i[14]} mangler`)&&z(s,n)},d(i){i&&S(e)}}}function ys(t){let e=t[2]==="en"?`Defeat ${t[17]>0?t[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${t[17]>0?t[17].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`,l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s[0]&131076&&e!==(e=n[2]==="en"?`Defeat ${n[17]>0?n[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${n[17]>0?n[17].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`)&&z(l,e)},d(n){n&&S(l)}}}function Cs(t){let e=t[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s[0]&4&&e!==(e=n[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!")&&z(l,e)},d(n){n&&S(l)}}}function sn(t){let e,l;return{c(){e=d("div"),l=d("div"),a(l,"class","hp-progress-fill svelte-f04vdu"),ce(l,"width",t[15]+"%"),a(e,"class","hp-progress-bar svelte-f04vdu")},m(n,s){A(n,e,s),r(e,l)},p(n,s){s[0]&32768&&ce(l,"width",n[15]+"%")},d(n){n&&S(e)}}}function rn(t){let e,l,n,s,o,i,c;function f(){return t[34](t[46])}return{c(){e=d("button"),l=d("img"),o=_(),Me(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),X(l,"locked",!t[16]),a(e,"class","rare-thumbnail svelte-f04vdu"),X(e,"unlocked",t[16])},m(u,m){A(u,e,m),r(e,l),r(e,o),i||(c=H(e,"click",f),i=!0)},p(u,m){t=u,m[0]&8&&!Me(l.src,n=t[46].image)&&a(l,"src",n),m[0]&8&&s!==(s=t[46].name)&&a(l,"alt",s),m[0]&65536&&X(l,"locked",!t[16]),m[0]&65536&&X(e,"unlocked",t[16])},d(u){u&&S(e),i=!1,c()}}}function Ss(t){let e,l=ye(t[5]),n=[];for(let s=0;s<l.length;s+=1)n[s]=un(en(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","cards-grid svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&536870944){l=ye(s[5]);let i;for(i=0;i<l.length;i+=1){const c=en(s,l,i);n[i]?n[i].p(c,o):(n[i]=un(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ge(n,s)}}}function As(t){let e,l,n,s,o=t[1].noCardsYet+"",i,c,f,u=t[1].noCardsDescription+"",m;return{c(){e=d("div"),l=d("div"),l.textContent="üì¶",n=_(),s=d("h3"),i=k(o),c=_(),f=d("p"),m=k(u),a(l,"class","empty-icon svelte-f04vdu"),a(s,"class","svelte-f04vdu"),a(f,"class","svelte-f04vdu"),a(e,"class","empty-state svelte-f04vdu")},m(g,p){A(g,e,p),r(e,l),r(e,n),r(e,s),r(s,i),r(e,c),r(e,f),r(f,m)},p(g,p){p[0]&2&&o!==(o=g[1].noCardsYet+"")&&z(i,o),p[0]&2&&u!==(u=g[1].noCardsDescription+"")&&z(m,u)},d(g){g&&S(e)}}}function on(t){let e,l,n=t[46].hp+"",s;return{c(){e=d("span"),l=k("HP "),s=k(n),a(e,"class","hp svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&32&&n!==(n=o[46].hp+"")&&z(s,n)},d(o){o&&S(e)}}}function an(t){let e,l=ye(t[46].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=cn(tn(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","types svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&32){l=ye(s[46].types);let i;for(i=0;i<l.length;i+=1){const c=tn(s,l,i);n[i]?n[i].p(c,o):(n[i]=cn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ge(n,s)}}}function cn(t){let e,l=t[43]+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","type svelte-f04vdu")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&32&&l!==(l=s[43]+"")&&z(n,l)},d(s){s&&S(e)}}}function un(t){let e,l,n,s,o,i,c,f=t[46].name+"",u,m,g,p,v,b,h=t[46].hp&&on(t),y=t[46].types&&t[46].types.length>0&&an(t);function D(){return t[35](t[46])}return{c(){e=d("button"),l=d("img"),o=_(),i=d("div"),c=d("h4"),u=k(f),m=_(),h&&h.c(),g=_(),y&&y.c(),p=_(),Me(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(i,"class","card-details svelte-f04vdu"),a(e,"class","collection-card svelte-f04vdu")},m(M,Q){A(M,e,Q),r(e,l),r(e,o),r(e,i),r(i,c),r(c,u),r(i,m),h&&h.m(i,null),r(i,g),y&&y.m(i,null),r(e,p),v||(b=H(e,"click",D),v=!0)},p(M,Q){t=M,Q[0]&32&&!Me(l.src,n=t[46].image)&&a(l,"src",n),Q[0]&32&&s!==(s=t[46].name)&&a(l,"alt",s),Q[0]&32&&f!==(f=t[46].name+"")&&z(u,f),t[46].hp?h?h.p(t,Q):(h=on(t),h.c(),h.m(i,g)):h&&(h.d(1),h=null),t[46].types&&t[46].types.length>0?y?y.p(t,Q):(y=an(t),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},d(M){M&&S(e),h&&h.d(),y&&y.d(),v=!1,b()}}}function fn(t){let e,l=t[10].text+"",n;return{c(){e=d("div"),n=k(l),a(e,"class","message svelte-f04vdu"),X(e,"success",t[10].type==="success"),X(e,"error",t[10].type==="error")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&1024&&l!==(l=s[10].text+"")&&z(n,l),o[0]&1024&&X(e,"success",s[10].type==="success"),o[0]&1024&&X(e,"error",s[10].type==="error")},d(s){s&&S(e)}}}function dn(t){let e,l,n,s,o,i,c,f,u,m,g=t[8].name+"",p,v,b,h,y,D,M=t[8].hp&&mn(t),Q=t[8].types&&t[8].types.length>0&&gn(t),L=t[8].rarity&&pn(t);return{c(){e=d("div"),l=d("div"),n=d("button"),n.textContent="√ó",s=_(),o=d("img"),f=_(),u=d("div"),m=d("h3"),p=k(g),v=_(),M&&M.c(),b=_(),Q&&Q.c(),h=_(),L&&L.c(),a(n,"class","close-modal svelte-f04vdu"),Me(o.src,i=t[8].image)||a(o,"src",i),a(o,"alt",c=t[8].name),a(o,"class","modal-card-image svelte-f04vdu"),a(m,"class","svelte-f04vdu"),a(u,"class","modal-card-info svelte-f04vdu"),a(l,"class","card-modal svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(E,q){A(E,e,q),r(e,l),r(l,n),r(l,s),r(l,o),r(l,f),r(l,u),r(u,m),r(m,p),r(u,v),M&&M.m(u,null),r(u,b),Q&&Q.m(u,null),r(u,h),L&&L.m(u,null),y||(D=[H(n,"click",t[30]),H(l,"click",wn(t[33])),H(e,"click",t[30]),H(e,"keydown",t[37])],y=!0)},p(E,q){q[0]&256&&!Me(o.src,i=E[8].image)&&a(o,"src",i),q[0]&256&&c!==(c=E[8].name)&&a(o,"alt",c),q[0]&256&&g!==(g=E[8].name+"")&&z(p,g),E[8].hp?M?M.p(E,q):(M=mn(E),M.c(),M.m(u,b)):M&&(M.d(1),M=null),E[8].types&&E[8].types.length>0?Q?Q.p(E,q):(Q=gn(E),Q.c(),Q.m(u,h)):Q&&(Q.d(1),Q=null),E[8].rarity?L?L.p(E,q):(L=pn(E),L.c(),L.m(u,null)):L&&(L.d(1),L=null)},d(E){E&&S(e),M&&M.d(),Q&&Q.d(),L&&L.d(),y=!1,_e(D)}}}function mn(t){let e,l,n=t[8].hp+"",s;return{c(){e=d("div"),l=k("HP: "),s=k(n),a(e,"class","modal-hp svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].hp+"")&&z(s,n)},d(o){o&&S(e)}}}function gn(t){let e,l=ye(t[8].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=vn(xl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","modal-types svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&256){l=ye(s[8].types);let i;for(i=0;i<l.length;i+=1){const c=xl(s,l,i);n[i]?n[i].p(c,o):(n[i]=vn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ge(n,s)}}}function vn(t){let e,l=t[43]+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","modal-type svelte-f04vdu")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&256&&l!==(l=s[43]+"")&&z(n,l)},d(s){s&&S(e)}}}function pn(t){let e,l,n=t[8].rarity+"",s;return{c(){e=d("div"),l=k("Rarity: "),s=k(n),a(e,"class","modal-rarity svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].rarity+"")&&z(s,n)},d(o){o&&S(e)}}}function hn(t){let e,l,n,s=t[1].clearCollectionTitle+"",o,i,c,f=t[1].clearCollectionMessage+"",u,m,g,p,v=t[1].cancel+"",b,h,y,D=t[1].clearCollection+"",M,Q,L;return{c(){e=d("div"),l=d("div"),n=d("h3"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("div"),p=d("button"),b=k(v),h=_(),y=d("button"),M=k(D),a(n,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(p,"class","btn-secondary"),a(y,"class","btn-error"),a(g,"class","dialog-actions svelte-f04vdu"),a(l,"class","dialog svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(E,q){A(E,e,q),r(e,l),r(l,n),r(n,o),r(l,i),r(l,c),r(c,u),r(l,m),r(l,g),r(g,p),r(p,b),r(g,h),r(g,y),r(y,M),Q||(L=[H(p,"click",t[25]),H(y,"click",t[26]),H(l,"click",wn(t[32])),H(l,"keydown",zs),H(e,"click",t[25]),H(e,"keydown",t[38])],Q=!0)},p(E,q){q[0]&2&&s!==(s=E[1].clearCollectionTitle+"")&&z(o,s),q[0]&2&&f!==(f=E[1].clearCollectionMessage+"")&&z(u,f),q[0]&2&&v!==(v=E[1].cancel+"")&&z(b,v),q[0]&2&&D!==(D=E[1].clearCollection+"")&&z(M,D)},d(E){E&&S(e),Q=!1,_e(L)}}}function qs(t){let e,l,n,s,o,i,c=t[2]==="en"?`Quiz Cards: ${t[12]} / ${t[13]}`:`Quiz-kort: ${t[12]} / ${t[13]}`,f,u,m,g=t[2]==="en"?`Total: ${t[6]} / ${t[7]}`:`Totalt: ${t[6]} / ${t[7]}`,p,v,b,h,y,D,M,Q,L,E,q,N,B,P=t[0].cards.length+"",T,I,F,O=t[1].cardsCollected+"",G,Y,J,ne,U=t[0].stats.totalQuestions+"",se,K,W,$=t[1].questionsAnswered+"",re,Le,oe,pe,ke=t[0].stats.correctAnswers+"",V,ee,C,R=t[1].correctAnswers+"",te,le,ue,Te,be,ft,dt,ie,xe=t[1].accuracy+"",mt,Ut,Se,et,tt,Be,At=(t[1].language||"Language")+"",Wt,pl,hl,Ie,He,Ve,_l,lt,Ke,qt=t[1].gradeLevel+"",Yt,kl,bl,we,Pe,zt=t[1].gradeLevel+"",Gt,wl,Ne,Et=t[1].gradeLevel+"",Jt,yl,De,Mt=t[1].gradeLevel+"",Zt,Cl,Re,Qt=t[1].gradeLevel+"",Xt,Sl,je,Lt=t[1].gradeLevel+"",$t,Al,ql,Ae,gt,Tt=t[1].exportBackup+"",xt,zl,vt,It=t[1].importBackup+"",el,El,pt,Pt=t[1].clearThisSet+"",tl,Ml,Ue,Ql,ht,Ll,_t,Tl,ll,kt,bt,nl,Il,Pl=ye(Ft),We=[];for(let w=0;w<Pl.length;w+=1)We[w]=ws(bs(t,Pl,w));let fe=t[14]>0&&nn(t);function Nl(w,j){return w[16]?Cs:ys}let Nt=Nl(t),qe=Nt(t),de=!t[16]&&sn(t),nt=ye(t[3]),ae=[];for(let w=0;w<nt.length;w+=1)ae[w]=rn(ln(t,nt,w));function Dl(w,j){return w[0].cards.length===0?As:Ss}let Dt=Dl(t),ze=Dt(t),me=t[10]&&fn(t),ge=t[8]&&dn(t),ve=t[11]&&hn(t);return{c(){e=d("div"),l=d("div"),n=d("select");for(let w=0;w<We.length;w+=1)We[w].c();s=_(),o=d("div"),i=d("div"),f=k(c),u=_(),m=d("div"),p=k(g),v=_(),fe&&fe.c(),b=_(),h=d("div"),y=d("div"),qe.c(),D=_(),de&&de.c(),M=_(),Q=d("div");for(let w=0;w<ae.length;w+=1)ae[w].c();L=_(),ze.c(),E=_(),q=d("div"),N=d("div"),B=d("div"),T=k(P),I=_(),F=d("div"),G=k(O),Y=_(),J=d("div"),ne=d("div"),se=k(U),K=_(),W=d("div"),re=k($),Le=_(),oe=d("div"),pe=d("div"),V=k(ke),ee=_(),C=d("div"),te=k(R),le=_(),ue=d("div"),Te=d("div"),be=k(t[18]),ft=k("%"),dt=_(),ie=d("div"),mt=k(xe),Ut=_(),Se=d("div"),et=d("div"),tt=d("div"),Be=d("label"),Wt=k(At),pl=k(":"),hl=_(),Ie=d("select"),He=d("option"),He.textContent="English",Ve=d("option"),Ve.textContent="Norsk",_l=_(),lt=d("div"),Ke=d("label"),Yt=k(qt),kl=k(":"),bl=_(),we=d("select"),Pe=d("option"),Gt=k(zt),wl=k(" 1"),Ne=d("option"),Jt=k(Et),yl=k(" 2"),De=d("option"),Zt=k(Mt),Cl=k(" 3"),Re=d("option"),Xt=k(Qt),Sl=k(" 4"),je=d("option"),$t=k(Lt),Al=k(" 5"),ql=_(),Ae=d("div"),gt=d("button"),xt=k(Tt),zl=_(),vt=d("button"),el=k(It),El=_(),pt=d("button"),tl=k(Pt),Ml=_(),Ue=d("input"),Ql=_(),ht=d("p"),ht.textContent="This website is not produced, endorsed, supported, or affiliated with Nintendo or The Pok√©mon Company. Data from https://tcgdex.dev/. Pok√©mon and all elements of the Pok√©mon franchise are ¬© 1995-2025 Nintendo, GAME FREAK inc. TM ¬© and Creatures Inc.",Ll=_(),_t=d("p"),_t.textContent="Our website uses cookies in the form of local storage for functionality purposes only. These cookies are necessary to save your progress in the game while you are playing and for the next time you want to play. You can choose to block or delete cookies in your browser, but this will affect the functionality of our website. We do not transmit any other user data. The website code is delivered to your computer by servers at netlify.com.",Tl=_(),me&&me.c(),ll=_(),ge&&ge.c(),kt=_(),ve&&ve.c(),bt=fl(),a(n,"class","set-selector svelte-f04vdu"),a(i,"class","regular-cards-count svelte-f04vdu"),a(m,"class","total-cards-count svelte-f04vdu"),a(o,"class","set-counter svelte-f04vdu"),a(l,"class","set-selector-container svelte-f04vdu"),a(y,"class","rare-section-text svelte-f04vdu"),a(Q,"class","rare-cards-thumbnails svelte-f04vdu"),a(h,"class","rare-cards-section svelte-f04vdu"),a(B,"class","stat-value svelte-f04vdu"),a(F,"class","stat-label svelte-f04vdu"),a(N,"class","stat-card svelte-f04vdu"),a(ne,"class","stat-value svelte-f04vdu"),a(W,"class","stat-label svelte-f04vdu"),a(J,"class","stat-card svelte-f04vdu"),a(pe,"class","stat-value svelte-f04vdu"),a(C,"class","stat-label svelte-f04vdu"),a(oe,"class","stat-card svelte-f04vdu"),a(Te,"class","stat-value svelte-f04vdu"),a(ie,"class","stat-label svelte-f04vdu"),a(ue,"class","stat-card svelte-f04vdu"),a(q,"class","stats-section svelte-f04vdu"),a(Be,"for","language-select"),ce(Be,"color","white"),a(Be,"class","svelte-f04vdu"),He.__value="en",he(He,He.__value),a(He,"class","svelte-f04vdu"),Ve.__value="no",he(Ve,Ve.__value),a(Ve,"class","svelte-f04vdu"),a(Ie,"id","language-select"),a(Ie,"class","settings-selector svelte-f04vdu"),a(tt,"class","selector-group svelte-f04vdu"),a(Ke,"for","klassetrinn-select"),ce(Ke,"color","white"),a(Ke,"class","svelte-f04vdu"),Pe.__value=1,he(Pe,Pe.__value),a(Pe,"class","svelte-f04vdu"),Ne.__value=2,he(Ne,Ne.__value),a(Ne,"class","svelte-f04vdu"),De.__value=3,he(De,De.__value),a(De,"class","svelte-f04vdu"),Re.__value=4,he(Re,Re.__value),a(Re,"class","svelte-f04vdu"),je.__value=5,he(je,je.__value),a(je,"class","svelte-f04vdu"),a(we,"id","klassetrinn-select"),a(we,"class","settings-selector svelte-f04vdu"),a(lt,"class","selector-group svelte-f04vdu"),a(et,"class","settings-selectors svelte-f04vdu"),a(gt,"class","btn-secondary"),a(vt,"class","btn-secondary"),a(pt,"class","btn-error"),a(Ue,"type","file"),a(Ue,"accept",".json"),ce(Ue,"display","none"),a(Ae,"class","functions-actions svelte-f04vdu"),ce(ht,"background-color","white"),ce(ht,"padding","8px"),ce(_t,"background-color","white"),ce(_t,"padding","8px"),a(Se,"class","functions-section svelte-f04vdu"),a(e,"class","collection-view svelte-f04vdu")},m(w,j){A(w,e,j),r(e,l),r(l,n);for(let Z=0;Z<We.length;Z+=1)We[Z]&&We[Z].m(n,null);Fe(n,t[4]),r(l,s),r(l,o),r(o,i),r(i,f),r(o,u),r(o,m),r(m,p),r(m,v),fe&&fe.m(m,null),r(e,b),r(e,h),r(h,y),qe.m(y,null),r(h,D),de&&de.m(h,null),r(h,M),r(h,Q);for(let Z=0;Z<ae.length;Z+=1)ae[Z]&&ae[Z].m(Q,null);r(e,L),ze.m(e,null),r(e,E),r(e,q),r(q,N),r(N,B),r(B,T),r(N,I),r(N,F),r(F,G),r(q,Y),r(q,J),r(J,ne),r(ne,se),r(J,K),r(J,W),r(W,re),r(q,Le),r(q,oe),r(oe,pe),r(pe,V),r(oe,ee),r(oe,C),r(C,te),r(q,le),r(q,ue),r(ue,Te),r(Te,be),r(Te,ft),r(ue,dt),r(ue,ie),r(ie,mt),r(e,Ut),r(e,Se),r(Se,et),r(et,tt),r(tt,Be),r(Be,Wt),r(Be,pl),r(tt,hl),r(tt,Ie),r(Ie,He),r(Ie,Ve),Fe(Ie,t[2]),r(et,_l),r(et,lt),r(lt,Ke),r(Ke,Yt),r(Ke,kl),r(lt,bl),r(lt,we),r(we,Pe),r(Pe,Gt),r(Pe,wl),r(we,Ne),r(Ne,Jt),r(Ne,yl),r(we,De),r(De,Zt),r(De,Cl),r(we,Re),r(Re,Xt),r(Re,Sl),r(we,je),r(je,$t),r(je,Al),Fe(we,t[19]),r(Se,ql),r(Se,Ae),r(Ae,gt),r(gt,xt),r(Ae,zl),r(Ae,vt),r(vt,el),r(Ae,El),r(Ae,pt),r(pt,tl),r(Ae,Ml),r(Ae,Ue),t[36](Ue),r(Se,Ql),r(Se,ht),r(Se,Ll),r(Se,_t),r(e,Tl),me&&me.m(e,null),A(w,ll,j),ge&&ge.m(w,j),A(w,kt,j),ve&&ve.m(w,j),A(w,bt,j),nl||(Il=[H(n,"change",t[20]),H(Ie,"change",t[27]),H(we,"change",t[28]),H(gt,"click",t[21]),H(vt,"click",t[22]),H(pt,"click",t[24]),H(Ue,"change",t[23])],nl=!0)},p(w,j){if(j[0]&16&&Fe(n,w[4]),j[0]&12292&&c!==(c=w[2]==="en"?`Quiz Cards: ${w[12]} / ${w[13]}`:`Quiz-kort: ${w[12]} / ${w[13]}`)&&z(f,c),j[0]&196&&g!==(g=w[2]==="en"?`Total: ${w[6]} / ${w[7]}`:`Totalt: ${w[6]} / ${w[7]}`)&&z(p,g),w[14]>0?fe?fe.p(w,j):(fe=nn(w),fe.c(),fe.m(m,null)):fe&&(fe.d(1),fe=null),Nt===(Nt=Nl(w))&&qe?qe.p(w,j):(qe.d(1),qe=Nt(w),qe&&(qe.c(),qe.m(y,null))),w[16]?de&&(de.d(1),de=null):de?de.p(w,j):(de=sn(w),de.c(),de.m(h,M)),j[0]&536936456){nt=ye(w[3]);let Z;for(Z=0;Z<nt.length;Z+=1){const Rl=ln(w,nt,Z);ae[Z]?ae[Z].p(Rl,j):(ae[Z]=rn(Rl),ae[Z].c(),ae[Z].m(Q,null))}for(;Z<ae.length;Z+=1)ae[Z].d(1);ae.length=nt.length}Dt===(Dt=Dl(w))&&ze?ze.p(w,j):(ze.d(1),ze=Dt(w),ze&&(ze.c(),ze.m(e,E))),j[0]&1&&P!==(P=w[0].cards.length+"")&&z(T,P),j[0]&2&&O!==(O=w[1].cardsCollected+"")&&z(G,O),j[0]&1&&U!==(U=w[0].stats.totalQuestions+"")&&z(se,U),j[0]&2&&$!==($=w[1].questionsAnswered+"")&&z(re,$),j[0]&1&&ke!==(ke=w[0].stats.correctAnswers+"")&&z(V,ke),j[0]&2&&R!==(R=w[1].correctAnswers+"")&&z(te,R),j[0]&262144&&z(be,w[18]),j[0]&2&&xe!==(xe=w[1].accuracy+"")&&z(mt,xe),j[0]&2&&At!==(At=(w[1].language||"Language")+"")&&z(Wt,At),j[0]&4&&Fe(Ie,w[2]),j[0]&2&&qt!==(qt=w[1].gradeLevel+"")&&z(Yt,qt),j[0]&2&&zt!==(zt=w[1].gradeLevel+"")&&z(Gt,zt),j[0]&2&&Et!==(Et=w[1].gradeLevel+"")&&z(Jt,Et),j[0]&2&&Mt!==(Mt=w[1].gradeLevel+"")&&z(Zt,Mt),j[0]&2&&Qt!==(Qt=w[1].gradeLevel+"")&&z(Xt,Qt),j[0]&2&&Lt!==(Lt=w[1].gradeLevel+"")&&z($t,Lt),j[0]&524288&&Fe(we,w[19]),j[0]&2&&Tt!==(Tt=w[1].exportBackup+"")&&z(xt,Tt),j[0]&2&&It!==(It=w[1].importBackup+"")&&z(el,It),j[0]&2&&Pt!==(Pt=w[1].clearThisSet+"")&&z(tl,Pt),w[10]?me?me.p(w,j):(me=fn(w),me.c(),me.m(e,null)):me&&(me.d(1),me=null),w[8]?ge?ge.p(w,j):(ge=dn(w),ge.c(),ge.m(kt.parentNode,kt)):ge&&(ge.d(1),ge=null),w[11]?ve?ve.p(w,j):(ve=hn(w),ve.c(),ve.m(bt.parentNode,bt)):ve&&(ve.d(1),ve=null)},i:x,o:x,d(w){w&&(S(e),S(ll),S(kt),S(bt)),Ge(We,w),fe&&fe.d(),qe.d(),de&&de.d(),Ge(ae,w),ze.d(),t[36](null),me&&me.d(),ge&&ge.d(w),ve&&ve.d(w),nl=!1,_e(Il)}}}const zs=()=>{};function Es(t,e,l){let n,s,o,i,c,f,u,m,g,p,v,b;wt(t,Ht,C=>l(39,v=C)),wt(t,St,C=>l(19,b=C));let{collection:h}=e,{t:y}=e,{language:D}=e,M=null,Q=[],L=[],E=v;Cn(async()=>{await q()});async function q(){try{l(31,Q=await ul(E));const C=[...Q].sort((R,te)=>{const le=parseInt(R.localId||"0");return parseInt(te.localId||"0")-le});l(3,L=C.slice(0,5))}catch(C){console.error("Error loading rare cards:",C)}}function N(C){const R=C.target;l(4,E=R.value),q()}const B=Vt();let P,T=null,I=!1;function F(){try{_s(),Y(y.collectionExported,"success")}catch{Y(y.exportFailed,"error")}}function O(){P.click()}async function G(C){var le;const R=C.target,te=(le=R.files)==null?void 0:le[0];if(te){try{const ue=await ks(te);ue.success?(Y(y.collectionImported,"success"),B("refresh")):Y(ue.error||y.importFailed,"error")}catch{Y(y.importFailed,"error")}R.value=""}}function Y(C,R){l(10,T={text:C,type:R}),setTimeout(()=>{l(10,T=null)},3e3)}function J(){l(11,I=!0)}function ne(){l(11,I=!1)}function U(){try{Jn(),l(11,I=!1),Y(y.collectionCleared,"success"),B("refresh")}catch{Y(y.clearFailed,"error")}}function se(C){const R=C.target;B("languageChange",R.value)}function K(C){const R=C.target;St.set(Number(R.value))}function W(C){l(8,M=C)}function $(){l(8,M=null)}function re(C){Fl.call(this,t,C)}function Le(C){Fl.call(this,t,C)}const oe=C=>W({...C,collectedAt:new Date().toISOString()}),pe=C=>W(C);function ke(C){il[C?"unshift":"push"](()=>{P=C,l(9,P)})}const V=C=>C.key==="Escape"&&$(),ee=C=>C.key==="Escape"&&ne();return t.$$set=C=>{"collection"in C&&l(0,h=C.collection),"t"in C&&l(1,y=C.t),"language"in C&&l(2,D=C.language)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(18,n=h.stats.totalQuestions>0?Math.round(h.stats.correctAnswers/h.stats.totalQuestions*100):0),t.$$.dirty[0]&1&&l(17,s=ct-(h.stats.totalHpDefeated||0)),t.$$.dirty[0]&17&&l(16,o=h.unlockedRareSets&&h.unlockedRareSets[E]||!1),t.$$.dirty[0]&1&&l(15,i=Math.min(h.stats.totalHpDefeated/ct*100,100)),t.$$.dirty[0]&17&&l(5,c=h.cards.filter(C=>C.id.startsWith(E+"-"))),t.$$.dirty[0]&32&&l(6,f=c.length),t.$$.dirty[1]&1&&l(7,u=Q.length),t.$$.dirty[0]&192&&l(14,m=u-f),t.$$.dirty[1]&1&&l(13,g=Q.length-5),t.$$.dirty[0]&40&&l(12,p=c.filter(C=>!L.some(te=>te.id===C.id)).length)},[h,y,D,L,E,c,f,u,M,P,T,I,p,g,m,i,o,s,n,b,N,F,O,G,J,ne,U,se,K,W,$,Q,re,Le,oe,pe,ke,V,ee]}class Ms extends $e{constructor(e){super(),Xe(this,e,Es,qs,Oe,{collection:0,t:1,language:2},null,[-1,-1])}}function Qs(t){let e,l,n,s,o;return{c(){e=d("div"),l=d("div"),n=_(),s=d("p"),o=k(t[0]),a(l,"class","spinner svelte-1lxornd"),a(s,"class","svelte-1lxornd"),a(e,"class","loading-view svelte-1lxornd")},m(i,c){A(i,e,c),r(e,l),r(e,n),r(e,s),r(s,o)},p(i,[c]){c&1&&z(o,i[0])},i:x,o:x,d(i){i&&S(e)}}}function Ls(t,e,l){let{message:n="Loading..."}=e;return t.$$set=s=>{"message"in s&&l(0,n=s.message)},[n]}class Ts extends $e{constructor(e){super(),Xe(this,e,Ls,Qs,Oe,{message:0})}}function Is(t){let e,l,n,s,o,i,c,f,u,m,g;return{c(){e=d("div"),l=d("div"),l.textContent="‚ö†Ô∏è",n=_(),s=d("h2"),s.textContent="Oops!",o=_(),i=d("p"),c=k(t[0]),f=_(),u=d("button"),u.textContent="Try Again",a(l,"class","error-icon svelte-na0xmw"),a(s,"class","svelte-na0xmw"),a(i,"class","svelte-na0xmw"),a(u,"class","btn-primary"),a(e,"class","error-view svelte-na0xmw")},m(p,v){A(p,e,v),r(e,l),r(e,n),r(e,s),r(e,o),r(e,i),r(i,c),r(e,f),r(e,u),m||(g=H(u,"click",t[1]),m=!0)},p(p,[v]){v&1&&z(c,p[0])},i:x,o:x,d(p){p&&S(e),m=!1,g()}}}function Ps(t,e,l){let{message:n="Something went wrong"}=e;const s=Vt();function o(){s("retry")}return t.$$set=i=>{"message"in i&&l(0,n=i.message)},[n,o]}class Ns extends $e{constructor(e){super(),Xe(this,e,Ps,Is,Oe,{message:0})}}const Ds="data:image/png;base64,W0RVTU1ZIEZJTEUgQ09OVEVOVF0=";function Rs(t,e,l){const n=t.slice();return n[42]=e[l],n}function js(t){let e,l;return e=new Ms({props:{collection:t[4],t:t[16],language:t[0]}}),e.$on("refresh",t[27]),e.$on("languageChange",t[29]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&16&&(o.collection=n[4]),s[0]&65536&&(o.t=n[16]),s[0]&1&&(o.language=n[0]),e.$set(o)},i(n){l||(Ce(e.$$.fragment,n),l=!0)},o(n){Qe(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Fs(t){let e,l,n,s;const o=[Vs,Hs,Bs,Os],i=[];function c(f,u){return f[1]==="loading"?0:f[1]==="quiz"&&f[2]?1:f[1]==="result"&&f[2]?2:f[1]==="error"?3:-1}return~(e=c(t))&&(l=i[e]=o[e](t)),{c(){l&&l.c(),n=fl()},m(f,u){~e&&i[e].m(f,u),A(f,n,u),s=!0},p(f,u){let m=e;e=c(f),e===m?~e&&i[e].p(f,u):(l&&(An(),Qe(i[m],1,1,()=>{i[m]=null}),qn()),~e?(l=i[e],l?l.p(f,u):(l=i[e]=o[e](f),l.c()),Ce(l,1),l.m(n.parentNode,n)):l=null)},i(f){s||(Ce(l),s=!0)},o(f){Qe(l),s=!1},d(f){f&&S(n),~e&&i[e].d(f)}}}function Os(t){let e,l;return e=new Ns({props:{message:t[8]}}),e.$on("retry",t[24]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&256&&(o.message=n[8]),e.$set(o)},i(n){l||(Ce(e.$$.fragment,n),l=!0)},o(n){Qe(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Bs(t){let e,l;return e=new hs({props:{isCorrect:t[5],correctAnswer:t[2].correctAnswer,userAnswer:t[6],wonCard:t[7],t:t[16],needsStreak:t[12],streakProgress:t[13],currentStreak:t[4].currentStreak||0}}),e.$on("next",t[23]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&32&&(o.isCorrect=n[5]),s[0]&4&&(o.correctAnswer=n[2].correctAnswer),s[0]&64&&(o.userAnswer=n[6]),s[0]&128&&(o.wonCard=n[7]),s[0]&65536&&(o.t=n[16]),s[0]&4096&&(o.needsStreak=n[12]),s[0]&8192&&(o.streakProgress=n[13]),s[0]&16&&(o.currentStreak=n[4].currentStreak||0),e.$set(o)},i(n){l||(Ce(e.$$.fragment,n),l=!0)},o(n){Qe(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Hs(t){var m;let e,l,n,s,o,i,c,f=ye(Ft),u=[];for(let g=0;g<f.length;g+=1)u[g]=Ks(Rs(t,f,g));return s=new us({props:{question:t[2],t:t[16],currentSet:((m=Ft.find(t[28]))==null?void 0:m.name)||""}}),s.$on("answer",t[22]),{c(){e=d("div"),l=d("select");for(let g=0;g<u.length;g+=1)u[g].c();n=_(),ut(s.$$.fragment),a(l,"class","set-selector svelte-1mmoizy"),a(e,"class","set-selector-container svelte-1mmoizy")},m(g,p){A(g,e,p),r(e,l);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(l,null);Fe(l,t[17]),A(g,n,p),Je(s,g,p),o=!0,i||(c=H(l,"change",t[18]),i=!0)},p(g,p){var b;(!o||p[0]&131072)&&Fe(l,g[17]);const v={};p[0]&4&&(v.question=g[2]),p[0]&65536&&(v.t=g[16]),p[0]&2048&&(v.currentSet=((b=Ft.find(g[28]))==null?void 0:b.name)||""),s.$set(v)},i(g){o||(Ce(s.$$.fragment,g),o=!0)},o(g){Qe(s.$$.fragment,g),o=!1},d(g){g&&(S(e),S(n)),Ge(u,g),Ze(s,g),i=!1,c()}}}function Vs(t){let e,l;return e=new Ts({props:{message:t[16].loading}}),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&65536&&(o.message=n[16].loading),e.$set(o)},i(n){l||(Ce(e.$$.fragment,n),l=!0)},o(n){Qe(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Ks(t){let e;return{c(){e=d("option"),e.textContent=`${t[42].name}`,e.__value=t[42].id,he(e,e.__value),a(e,"class","svelte-1mmoizy")},m(l,n){A(l,e,n)},p:x,d(l){l&&S(e)}}}function _n(t){let e,l;function n(i,c){return i[15]?Us:Ws}let s=n(t),o=s(t);return{c(){e=d("div"),l=d("div"),o.c(),a(l,"class","dialog language-dialog svelte-1mmoizy"),a(e,"class","dialog-overlay svelte-1mmoizy"),a(e,"role","button"),a(e,"tabindex","-1")},m(i,c){A(i,e,c),r(e,l),o.m(l,null)},p(i,c){s===(s=n(i))&&o?o.p(i,c):(o.d(1),o=s(i),o&&(o.c(),o.m(l,null)))},d(i){i&&S(e),o.d()}}}function Us(t){let e,l=t[14]==="en"?"Choose Grade Level":"Velg Klassetrinn",n,s,o,i=t[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsniv√•. Du kan endre dette n√•r som helst i Min samling.",c,f,u,m,g,p,v,b=t[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)",h,y,D,M,Q,L,E=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",q,N,B,P,T,I,F=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",O,G,Y,J,ne,U,se=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",K,W,$,re,Le,oe,pe=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",ke,V,ee;return{c(){e=d("h2"),n=k(l),s=_(),o=d("p"),c=k(i),f=_(),u=d("div"),m=d("button"),g=d("span"),g.textContent="1",p=_(),v=d("span"),h=k(b),y=_(),D=d("button"),M=d("span"),M.textContent="2",Q=_(),L=d("span"),q=k(E),N=_(),B=d("button"),P=d("span"),P.textContent="3",T=_(),I=d("span"),O=k(F),G=_(),Y=d("button"),J=d("span"),J.textContent="4",ne=_(),U=d("span"),K=k(se),W=_(),$=d("button"),re=d("span"),re.textContent="5",Le=_(),oe=d("span"),ke=k(pe),a(e,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(g,"class","grade-number svelte-1mmoizy"),a(v,"class","grade-description svelte-1mmoizy"),a(m,"class","klassetrinn-btn svelte-1mmoizy"),a(M,"class","grade-number svelte-1mmoizy"),a(L,"class","grade-description svelte-1mmoizy"),a(D,"class","klassetrinn-btn svelte-1mmoizy"),a(P,"class","grade-number svelte-1mmoizy"),a(I,"class","grade-description svelte-1mmoizy"),a(B,"class","klassetrinn-btn svelte-1mmoizy"),a(J,"class","grade-number svelte-1mmoizy"),a(U,"class","grade-description svelte-1mmoizy"),a(Y,"class","klassetrinn-btn svelte-1mmoizy"),a(re,"class","grade-number svelte-1mmoizy"),a(oe,"class","grade-description svelte-1mmoizy"),a($,"class","klassetrinn-btn svelte-1mmoizy"),a(u,"class","klassetrinn-buttons svelte-1mmoizy")},m(C,R){A(C,e,R),r(e,n),A(C,s,R),A(C,o,R),r(o,c),A(C,f,R),A(C,u,R),r(u,m),r(m,g),r(m,p),r(m,v),r(v,h),r(u,y),r(u,D),r(D,M),r(D,Q),r(D,L),r(L,q),r(u,N),r(u,B),r(B,P),r(B,T),r(B,I),r(I,O),r(u,G),r(u,Y),r(Y,J),r(Y,ne),r(Y,U),r(U,K),r(u,W),r(u,$),r($,re),r($,Le),r($,oe),r(oe,ke),V||(ee=[H(m,"click",t[32]),H(D,"click",t[33]),H(B,"click",t[34]),H(Y,"click",t[35]),H($,"click",t[36])],V=!0)},p(C,R){R[0]&16384&&l!==(l=C[14]==="en"?"Choose Grade Level":"Velg Klassetrinn")&&z(n,l),R[0]&16384&&i!==(i=C[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsniv√•. Du kan endre dette n√•r som helst i Min samling.")&&z(c,i),R[0]&16384&&b!==(b=C[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)")&&z(h,b),R[0]&16384&&E!==(E=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&z(q,E),R[0]&16384&&F!==(F=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&z(O,F),R[0]&16384&&se!==(se=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&z(K,se),R[0]&16384&&pe!==(pe=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&z(ke,pe)},d(C){C&&(S(e),S(s),S(o),S(f),S(u)),V=!1,_e(ee)}}}function Ws(t){let e,l,n,s,o,i,c,f,u,m,g,p,v,b;return{c(){e=d("h2"),e.textContent="Hello!",l=_(),n=d("p"),n.textContent=`Dette er et mattespill for barn i 1-7 trinn, og her skal du samle p√• pok√©mon kort. Du kan vinne de supersjeldene gull kortene ved √• sl√• kort med tilsammen ${ct.toLocaleString()} HP.`,s=_(),o=d("p"),o.textContent=`Solve math problems collect get cards. Beat ${ct.toLocaleString()} HP in total to get super rare cards!`,i=_(),c=d("div"),f=d("button"),f.innerHTML='<span class="flag svelte-1mmoizy">üá¨üáß</span> <span>English</span>',u=_(),m=d("button"),m.innerHTML='<span class="flag svelte-1mmoizy">üá≥üá¥</span> <span>Norsk</span>',g=_(),p=d("p"),p.textContent="Laget av / Made by Sigmund (10) & Kjartan",a(e,"class","svelte-1mmoizy"),a(n,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(f,"class","language-btn svelte-1mmoizy"),a(m,"class","language-btn svelte-1mmoizy"),a(c,"class","language-buttons svelte-1mmoizy"),a(p,"class","svelte-1mmoizy")},m(h,y){A(h,e,y),A(h,l,y),A(h,n,y),A(h,s,y),A(h,o,y),A(h,i,y),A(h,c,y),r(c,f),r(c,u),r(c,m),A(h,g,y),A(h,p,y),v||(b=[H(f,"click",t[30]),H(m,"click",t[31])],v=!0)},p:x,d(h){h&&(S(e),S(l),S(n),S(s),S(o),S(i),S(c),S(g),S(p)),v=!1,_e(b)}}}function Ys(t){var se;let e,l,n,s,o=t[16].appTitle+"",i,c,f,u,m=t[16].playQuiz+"",g,p,v,b=t[16].myCollection+"",h,y,D=(((se=t[4])==null?void 0:se.cards.length)||0)+"",M,Q,L=t[3].length+"",E,q,N,B,P,T,I,F,O,G;const Y=[Fs,js],J=[];function ne(K,W){return K[9]==="quiz"?0:1}P=ne(t),T=J[P]=Y[P](t);let U=t[10]&&_n(t);return{c(){e=d("div"),l=d("header"),n=d("div"),s=d("h1"),i=k(o),c=_(),f=d("nav"),u=d("button"),g=k(m),p=_(),v=d("button"),h=k(b),y=k(" ("),M=k(D),Q=k("/"),E=k(L),q=k(")"),N=_(),B=d("main"),T.c(),I=_(),U&&U.c(),a(s,"class","app-title svelte-1mmoizy"),a(u,"class","nav-btn svelte-1mmoizy"),X(u,"active",t[9]==="quiz"),a(v,"class","nav-btn svelte-1mmoizy"),X(v,"active",t[9]==="collection"),a(f,"class","svelte-1mmoizy"),a(n,"class","header-content svelte-1mmoizy"),a(l,"class","app-header svelte-1mmoizy"),ce(l,"background-image","url("+Ds+")"),ce(l,"background-size","cover"),ce(l,"background-position","top center"),ce(l,"background-repeat","no-repeat"),a(B,"class","svelte-1mmoizy"),a(e,"class","app svelte-1mmoizy")},m(K,W){A(K,e,W),r(e,l),r(l,n),r(n,s),r(s,i),r(n,c),r(n,f),r(f,u),r(u,g),r(f,p),r(f,v),r(v,h),r(v,y),r(v,M),r(v,Q),r(v,E),r(v,q),r(e,N),r(e,B),J[P].m(B,null),r(e,I),U&&U.m(e,null),F=!0,O||(G=[H(u,"click",t[26]),H(v,"click",t[25])],O=!0)},p(K,W){var re;(!F||W[0]&65536)&&o!==(o=K[16].appTitle+"")&&z(i,o),(!F||W[0]&65536)&&m!==(m=K[16].playQuiz+"")&&z(g,m),(!F||W[0]&512)&&X(u,"active",K[9]==="quiz"),(!F||W[0]&65536)&&b!==(b=K[16].myCollection+"")&&z(h,b),(!F||W[0]&16)&&D!==(D=(((re=K[4])==null?void 0:re.cards.length)||0)+"")&&z(M,D),(!F||W[0]&8)&&L!==(L=K[3].length+"")&&z(E,L),(!F||W[0]&512)&&X(v,"active",K[9]==="collection");let $=P;P=ne(K),P===$?J[P].p(K,W):(An(),Qe(J[$],1,1,()=>{J[$]=null}),qn(),T=J[P],T?T.p(K,W):(T=J[P]=Y[P](K),T.c()),Ce(T,1),T.m(B,null)),K[10]?U?U.p(K,W):(U=_n(K),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},i(K){F||(Ce(T),F=!0)},o(K){Qe(T),F=!1},d(K){K&&S(e),J[P].d(),U&&U.d(),O=!1,_e(G)}}}function Gs(t,e,l){let n,s,o,i;wt(t,St,V=>l(38,s=V)),wt(t,Ot,V=>l(0,o=V)),wt(t,Ht,V=>l(17,i=V));let c="loading",f=null,u=[],m,g=!1,p=0,v=0,b=null,h="",y="quiz",D=!1,M=i,Q=!1,L=0;Cn(()=>{l(4,m=Ee()),localStorage.getItem("tcg-seen-language-dialog")?I():l(10,D=!0)});function E(V){const ee=V.target;Ht.set(ee.value),l(11,M=ee.value),l(3,u=[]),I()}function q(V){Ot.set(V)}let N="en",B=!1;function P(V){l(14,N=V),l(15,B=!0)}function T(V){Ot.set(N),St.set(V),localStorage.setItem("tcg-seen-language-dialog","true"),l(10,D=!1),l(15,B=!1),I()}async function I(){var V;try{l(1,c="loading"),u.length===0&&l(3,u=await ul(M));const ee=[...u].sort((ie,xe)=>{const mt=parseInt(ie.localId||"0");return parseInt(xe.localId||"0")-mt}),C=new Set(ee.slice(0,5).map(ie=>ie.id)),R=new Set(m.cards.map(ie=>ie.id)),te=m.stats.totalHpDefeated>=ct;let le=u.filter(ie=>!R.has(ie.id)&&!C.has(ie.id));if(le.length===0){if(te)throw new Error("Congratulations! You have collected all cards from this set!");le=u.filter(ie=>!C.has(ie.id))}const ue=Un(le),Te=await Kn(ue.id,M),be=((V=Te.rarity)==null?void 0:V.toLowerCase())||"common",ft=be!=="common"&&be!=="uncommon"&&be!=="rare"&&be!=="double rare",dt=es(Te,n,ft,s);if(!dt)throw new Error("Could not generate a valid question. Please try again.");l(12,Q=ft?!1:be!=="common"&&be!=="uncommon"&&be!=="rare"&&be!=="double rare"),m.streakCard&&m.streakCard.id===Te.id?l(13,L=m.currentStreak||0):l(13,L=0),l(2,f=dt),l(1,c="quiz")}catch(ee){console.error("Error loading question:",ee),l(8,h=ee instanceof Error?ee.message:"Failed to load question"),l(1,c="error")}}async function F(){m.unlockedRareSets||l(4,m.unlockedRareSets={},m),!m.unlockedRareSets[M]&&m.stats.totalHpDefeated>=ct&&(u.length===0&&l(3,u=await ul(M)),[...u].sort((C,R)=>{const te=parseInt(C.localId||"0");return parseInt(R.localId||"0")-te}).slice(0,5).forEach(C=>{const R={id:C.id,name:C.name,image:C.image,hp:C.hp,types:C.types,rarity:C.rarity,collectedAt:new Date().toISOString()};m.cards.some(le=>le.id===C.id)||m.cards.push(R)}),l(4,m.unlockedRareSets[M]=!0,m),at(m))}function O(V){var C,R;if(!f)return;l(6,p=V.detail.firstAnswer),v=V.detail.secondAnswer||0,l(5,g=ts(f,p,v));const ee=g&&f.card.hp?f.card.hp:0;if(Gn(g,ee),l(7,b=null),g){let te=!1;if(Q&&!f.secondQuestion?(l(4,m=Ee()),((C=m.streakCard)==null?void 0:C.id)===f.card.id?l(4,m.currentStreak=(m.currentStreak||0)+1,m):(l(4,m.streakCard=f.card,m),l(4,m.currentStreak=1,m)),m.currentStreak>=2&&(te=!0,l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m)),at(m)):te=!0,te){const le={id:f.card.id,name:f.card.name,image:f.card.image,hp:f.card.hp,types:f.card.types,rarity:f.card.rarity,collectedAt:new Date().toISOString()};Yn(le)&&l(7,b=f.card)}}else l(4,m=Ee()),Q&&((R=m.streakCard)==null?void 0:R.id)===f.card.id&&(l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m),at(m));l(4,m=Ee()),g&&(F(),l(4,m=Ee())),l(1,c="result")}function G(){I()}function Y(){I()}function J(){l(9,y="collection"),l(4,m=Ee())}function ne(){l(9,y="quiz")}function U(){l(4,m=Ee())}const se=V=>V.id===M,K=V=>q(V.detail),W=()=>P("en"),$=()=>P("no"),re=()=>T(1),Le=()=>T(2),oe=()=>T(3),pe=()=>T(4),ke=()=>T(5);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(16,n=ss(o))},[o,c,f,u,m,g,p,b,h,y,D,M,Q,L,N,B,n,i,E,q,P,T,O,G,Y,J,ne,U,se,K,W,$,re,Le,oe,pe,ke]}class Js extends $e{constructor(e){super(),Xe(this,e,Gs,Ys,Oe,{},null,[-1,-1])}}new Js({target:document.getElementById("app")});
