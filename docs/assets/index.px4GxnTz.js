var Tn=Object.defineProperty;var Qn=(t,e,l)=>e in t?Tn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var sl=(t,e,l)=>Qn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();function ee(){}function kn(t){return t()}function jl(){return Object.create(null)}function ke(t){t.forEach(kn)}function bn(t){return typeof t=="function"}function Oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Dt;function Le(t,e){return t===e?!0:(Dt||(Dt=document.createElement("a")),Dt.href=e,t===Dt.href)}function In(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null){for(const n of e)n(void 0);return ee}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function wt(t,e,l){t.$$.on_destroy.push(Pn(e,l))}function r(t,e){t.appendChild(e)}function z(t,e,l){t.insertBefore(e,l||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ge(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function f(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function _(){return k(" ")}function fl(){return k("")}function K(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function wn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Bt(t){return t===""?null:+t}function Nn(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function _e(t,e){t.value=e??""}function ue(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Fe(t,e,l){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function $(t,e,l){t.classList.toggle(e,!!l)}function Rn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let Ct;function yt(t){Ct=t}function yn(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function Cn(t){yn().$$.on_mount.push(t)}function Kt(){const t=yn();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Rn(e,l,{cancelable:n});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function Fl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const ot=[],il=[];let it=[];const Ol=[],Dn=Promise.resolve();let al=!1;function jn(){al||(al=!0,Dn.then(Sn))}function cl(t){it.push(t)}const rl=new Set;let st=0;function Sn(){if(st!==0)return;const t=Ct;do{try{for(;st<ot.length;){const e=ot[st];st++,yt(e),Fn(e.$$)}}catch(e){throw ot.length=0,st=0,e}for(yt(null),ot.length=0,st=0;il.length;)il.pop()();for(let e=0;e<it.length;e+=1){const l=it[e];rl.has(l)||(rl.add(l),l())}it.length=0}while(ot.length);for(;Ol.length;)Ol.pop()();al=!1,rl.clear(),yt(t)}function Fn(t){if(t.fragment!==null){t.update(),ke(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(cl)}}function On(t){const e=[],l=[];it.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),it=e}const jt=new Set;let Ye;function An(){Ye={r:0,c:[],p:Ye}}function zn(){Ye.r||ke(Ye.c),Ye=Ye.p}function Se(t,e){t&&t.i&&(jt.delete(t),t.i(e))}function Te(t,e,l,n){if(t&&t.o){if(jt.has(t))return;jt.add(t),Ye.c.push(()=>{jt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ut(t){t&&t.c()}function Je(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),cl(()=>{const o=t.$$.on_mount.map(kn).filter(bn);t.$$.on_destroy?t.$$.on_destroy.push(...o):ke(o),t.$$.on_mount=[]}),s.forEach(cl)}function Ze(t,e){const l=t.$$;l.fragment!==null&&(On(l.after_update),ke(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(ot.push(t),jn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xe(t,e,l,n,s,o,i=null,c=[-1]){const d=Ct;yt(t);const u=t.$$={fragment:null,ctx:[],props:o,update:ee,not_equal:s,bound:jl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:jl(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};i&&i(u.root);let g=!1;if(u.ctx=l?l(t,e.props||{},(p,v,...m)=>{const b=m.length?m[0]:v;return u.ctx&&s(u.ctx[p],u.ctx[p]=b)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](b),g&&Bn(t,p)),v}):[],u.update(),g=!0,ke(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const p=Nn(e.target);u.fragment&&u.fragment.l(p),p.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&Se(t.$$.fragment),Je(t,e.target,e.anchor),Sn()}yt(d)}class $e{constructor(){sl(this,"$$");sl(this,"$$set")}$destroy(){Ze(this,1),this.$destroy=ee}$on(e,l){if(!bn(l))return ee;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!In(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hn);const Mn="https://api.tcgdex.net/v2/en";function qn(t,e){const l=t.split("-")[1];return`https://assets.tcgdex.net/en/${Kn(e)}/${e}/${l}/high.webp`}function Kn(t){return t.startsWith("swsh")?"swsh":t.startsWith("sv")?"sv":t.startsWith("me")?"base":"swsh"}async function ul(t){try{const e=await fetch(`${Mn}/sets/${t}`);if(!e.ok)throw new Error("Failed to fetch cards from set");return((await e.json()).cards||[]).map(s=>({id:s.id,localId:s.localId,name:s.name,image:qn(s.id,t)}))}catch(e){throw console.error("Error fetching cards from set:",e),e}}async function Un(t,e){try{const l=await fetch(`${Mn}/cards/${t}`);if(!l.ok)throw new Error("Failed to fetch card details");return{...await l.json(),image:qn(t,e)}}catch(l){throw console.error("Error fetching card details:",l),l}}function Vn(t){const e=Math.floor(Math.random()*t.length);return t[e]}const dl="pokemon-tcg-collection",En="2.0";function Wn(){return{totalQuestions:0,correctAnswers:0,incorrectAnswers:0,totalHpDefeated:0}}function ol(){return{cards:[],stats:Wn(),version:En}}function Ee(){try{const t=localStorage.getItem(dl);if(!t)return ol();const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?(console.warn("Invalid collection format, resetting..."),ol()):(e.stats.totalHpDefeated||(e.stats.totalHpDefeated=0),e.currentStreak||(e.currentStreak=0),e.unlockedRareSets||(e.unlockedRareSets={}),e)}catch(t){return console.error("Error loading collection from local storage:",t),ol()}}function at(t){try{const e={...t,version:En};localStorage.setItem(dl,JSON.stringify(e))}catch(e){throw console.error("Error saving collection to local storage:",e),new Error("Failed to save collection")}}function Yn(t){try{const e=Ee();return e.cards.some(n=>n.id===t.id)?!1:(e.cards.push(t),at(e),!0)}catch(e){return console.error("Error adding card to collection:",e),!1}}function Gn(t,e){try{const l=Ee();l.stats.totalQuestions++,t?(l.stats.correctAnswers++,e&&(l.stats.totalHpDefeated+=e)):l.stats.incorrectAnswers++,at(l)}catch(l){console.error("Error updating stats:",l)}}function Jn(){try{localStorage.removeItem(dl)}catch(t){console.error("Error clearing collection:",t)}}function Zn(){const t=Ee();return JSON.stringify(t,null,2)}function Xn(t){try{const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?{success:!1,error:"Invalid collection format"}:!e.stats.totalQuestions===void 0||!e.stats.correctAnswers===void 0||!e.stats.incorrectAnswers===void 0?{success:!1,error:"Invalid stats format"}:(at(e),{success:!0})}catch(e){return console.error("Error importing collection:",e),{success:!1,error:"Failed to parse JSON file"}}}function Bl(t){const e=Math.floor(Math.random()*9)+1,l=Math.floor(Math.random()*9)+1,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function Hl(t){const e=["+","-"],l=e[Math.floor(Math.random()*e.length)];let n,s;if(l==="+"){const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i,s=t.mathQuestion(o,i,"+")}else{const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i;const c=n;n=o,s=t.mathQuestion(c,i,"-")}return{question:s,answer:n}}function $n(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=["+","-"],s=n[Math.floor(Math.random()*n.length)];let o,i;if(s==="+")o=e+l,i=t.mathQuestion(e,l,"+");else{o=e+l;const c=o;o=e,i=t.mathQuestion(c,l,"-")}return{question:i,answer:o}}function xn(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function es(t,e,l=!1,n=4){if(!t)return null;let s,o,i=!1,c,d;if(n===1){const u=Bl(e);s=u.question,o=u.answer}else if(n===2||n===3){const u=Hl(e);s=u.question,o=u.answer}else if(t.hp&&t.hp>0){i=!0;const u=[10,20,30,40,50,60,60,80,120,300][Math.floor(Math.random()*5)];o=Math.ceil(t.hp/u),s=e.damageQuestion(u)}else{const u=$n(e);s=u.question,o=u.answer}if(l)if(n===1){const u=Bl(e);c=u.question,d=u.answer}else if(n===2||n===3){const u=Hl(e);c=u.question,d=u.answer}else{const u=xn(e);c=u.question,d=u.answer}return{card:t,questionText:s,correctAnswer:o,isPokemon:i,secondQuestion:c,secondAnswer:d}}function ts(t,e,l){const n=e===t.correctAnswer;if(t.secondQuestion&&t.secondAnswer!==void 0){const s=l===t.secondAnswer;return n&&s}return n}const rt=[];function gl(t,e=ee){let l;const n=new Set;function s(c){if(Oe(t,c)&&(t=c,l)){const d=!rt.length;for(const u of n)u[1](),rt.push(u,t);if(d){for(let u=0;u<rt.length;u+=2)rt[u][0](rt[u+1]);rt.length=0}}}function o(c){s(c(t))}function i(c,d=ee){const u=[c,d];return n.add(u),n.size===1&&(l=e(s,o)||ee),c(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:s,update:o,subscribe:i}}const Ft=[{id:"swsh3",name:"Sword & Shield - Darkness Ablaze"},{id:"sv05",name:"Scarlet & Violet - Temporal Forces"},{id:"sv06.5",name:"Scarlet & Violet - Shrouded Fable"}],Ln="tcg-math-settings";function ls(){return{language:"en",selectedSet:"swsh3",klassetrinn:4}}function Ut(){try{const t=localStorage.getItem(Ln);if(t){const e=JSON.parse(t);return{language:e.language||"en",selectedSet:e.selectedSet||"swsh3",klassetrinn:e.klassetrinn||4}}}catch(t){console.error("Error loading settings:",t)}return ls()}function pl(t){try{localStorage.setItem(Ln,JSON.stringify(t))}catch(e){console.error("Error saving settings:",e)}}const ml=Ut(),Ot=gl(ml.language),Ht=gl(ml.selectedSet),St=gl(ml.klassetrinn);Ot.subscribe(t=>{const e=Ut();pl({...e,language:t})});Ht.subscribe(t=>{const e=Ut();pl({...e,selectedSet:t})});St.subscribe(t=>{const e=Ut();pl({...e,klassetrinn:t})});const ns={en:{appTitle:"cardCrun.ch",appTagline:"Crunch Numbers. Collect Cards.",quizTitle:"TCG Math Challenge",playQuiz:"Play Quiz",myCollection:"My Collection",selectSet:"Select Set",selectLanguage:"Language",setInfo:"Collecting Set",enterAnswer:"Enter your answer",submitAnswer:"Submit Answer",nextQuestion:"Next Question",correct:"Correct!",notQuite:"Not quite!",correctMessage:"Great job! The answer was",incorrectMessage:"You answered",encouragement:"Try again with the next question!",youWonThisCard:"You won this card!",cardsCollected:"Cards Collected",questionsAnswered:"Questions Answered",correctAnswers:"Correct Answers",accuracy:"Accuracy",noCardsYet:"No cards yet!",noCardsDescription:"Answer questions correctly to start building your collection.",exportBackup:"Export Backup",importBackup:"Import Backup",clearThisSet:"Clear This Set",clearCollectionTitle:"Clear Collection?",clearCollectionMessage:"Are you sure you want to clear your entire collection? This action cannot be undone.",cancel:"Cancel",clearCollection:"Clear Collection",collectionExported:"Collection exported successfully!",collectionImported:"Collection imported successfully!",collectionCleared:"Collection cleared successfully!",exportFailed:"Failed to export collection",importFailed:"Failed to import collection",clearFailed:"Failed to clear collection",hit:"hit",hits:"hits",loading:"Loading new question...",yourCollection:"Your Collection",language:"Language",gradeLevel:"Grade Level",damageQuestion:t=>`Your Pok√©mon deals ${t} damage each turn. How many turns does it take to defeat this Pok√©mon?`,mathQuestion:(t,e,l)=>`What is ${t} ${l} ${e}?`},no:{appTitle:"cardCrun.ch",appTagline:"Crunch Numbers. Collect Cards.",quizTitle:"TCG Matte Utfordring",playQuiz:"Spill Quiz",myCollection:"Min Samling",selectSet:"Velg Sett",selectLanguage:"Spr√•k",setInfo:"Samler Sett",enterAnswer:"Skriv inn svaret ditt",submitAnswer:"Send Inn Svar",nextQuestion:"Neste Sp√∏rsm√•l",correct:"Riktig!",notQuite:"Ikke helt!",correctMessage:"Bra jobbet! Svaret var",incorrectMessage:"Du svarte",encouragement:"Pr√∏v igjen med neste sp√∏rsm√•l!",youWonThisCard:"Du vant dette kortet!",cardsCollected:"Kort Samlet",questionsAnswered:"Sp√∏rsm√•l Besvart",correctAnswers:"Riktige Svar",accuracy:"N√∏yaktighet",noCardsYet:"Ingen kort enn√•!",noCardsDescription:"Svar riktig p√• sp√∏rsm√•l for √• begynne √• bygge samlingen din.",exportBackup:"Eksporter Backup",importBackup:"Importer Backup",clearThisSet:"T√∏m Dette Settet",clearCollectionTitle:"T√∏m Samling?",clearCollectionMessage:"Er du sikker p√• at du vil t√∏mme hele samlingen din? Denne handlingen kan ikke angres.",cancel:"Avbryt",clearCollection:"T√∏m Samling",collectionExported:"Samling eksportert!",collectionImported:"Samling importert!",collectionCleared:"Samling t√∏mt!",exportFailed:"Kunne ikke eksportere samling",importFailed:"Kunne ikke importere samling",clearFailed:"Kunne ikke t√∏mme samling",hit:"treff",hits:"treff",loading:"Laster nytt sp√∏rsm√•l...",yourCollection:"Din Samling",language:"Spr√•k",gradeLevel:"Klassetrinn",damageQuestion:t=>`Din Pok√©mon gj√∏r ${t} skade hver runde. Hvor mange runder tar det √• beseire denne Pok√©monen?`,mathQuestion:(t,e,l)=>`Hva er ${t} ${l} ${e}?`}};function ss(t){return ns[t]}const ct=1e4;function Kl(t,e,l){const n=t.slice();return n[4]=e[l],n}function Ul(t){let e,l,n=t[0].rarity+"",s;return{c(){e=f("div"),l=f("span"),s=k(n),a(l,"class","rarity-badge svelte-1gymiiy"),a(e,"class","card-rarity svelte-1gymiiy")},m(o,i){z(o,e,i),r(e,l),r(l,s)},p(o,i){i&1&&n!==(n=o[0].rarity+"")&&q(s,n)},d(o){o&&A(e)}}}function Vl(t){let e,l,n,s=Ce(t[0].attacks),o=[];for(let i=0;i<s.length;i+=1)o[i]=Yl(Kl(t,s,i));return{c(){e=f("div"),l=f("h4"),l.textContent="Attacks:",n=_();for(let i=0;i<o.length;i+=1)o[i].c();a(l,"class","svelte-1gymiiy"),a(e,"class","card-attacks svelte-1gymiiy")},m(i,c){z(i,e,c),r(e,l),r(e,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null)},p(i,c){if(c&5){s=Ce(i[0].attacks);let d;for(d=0;d<s.length;d+=1){const u=Kl(i,s,d);o[d]?o[d].p(u,c):(o[d]=Yl(u),o[d].c(),o[d].m(e,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=s.length}},d(i){i&&A(e),Ge(o,i)}}}function Wl(t){let e,l=t[4].damage+"",n;return{c(){e=f("span"),n=k(l),a(e,"class","attack-damage svelte-1gymiiy")},m(s,o){z(s,e,o),r(e,n)},p(s,o){o&1&&l!==(l=s[4].damage+"")&&q(n,l)},d(s){s&&A(e)}}}function Yl(t){let e,l,n=t[4].name+"",s,o,i,c=t[4].damage&&Wl(t);return{c(){e=f("div"),l=f("span"),s=k(n),o=_(),c&&c.c(),i=_(),a(l,"class","attack-name svelte-1gymiiy"),a(e,"class","attack svelte-1gymiiy"),$(e,"highlighted",t[2]===t[4].name)},m(d,u){z(d,e,u),r(e,l),r(l,s),r(e,o),c&&c.m(e,null),r(e,i)},p(d,u){u&1&&n!==(n=d[4].name+"")&&q(s,n),d[4].damage?c?c.p(d,u):(c=Wl(d),c.c(),c.m(e,i)):c&&(c.d(1),c=null),u&5&&$(e,"highlighted",d[2]===d[4].name)},d(d){d&&A(e),c&&c.d()}}}function rs(t){let e,l,n,s,o,i,c,d,u=t[0].name+"",g,p,v,m=t[3]&&t[0].rarity&&Ul(t),b=t[1]&&t[0].attacks&&t[0].attacks.length>0&&Vl(t);return{c(){e=f("div"),l=f("div"),n=f("img"),i=_(),c=f("div"),d=f("h3"),g=k(u),p=_(),m&&m.c(),v=_(),b&&b.c(),Le(n.src,s=t[0].image)||a(n,"src",s),a(n,"alt",o=t[0].name),a(n,"class","svelte-1gymiiy"),a(l,"class","card-image svelte-1gymiiy"),a(d,"class","card-name svelte-1gymiiy"),a(c,"class","card-info svelte-1gymiiy"),a(e,"class","pokemon-card svelte-1gymiiy")},m(h,y){z(h,e,y),r(e,l),r(l,n),r(e,i),r(e,c),r(c,d),r(d,g),r(c,p),m&&m.m(c,null),r(c,v),b&&b.m(c,null)},p(h,[y]){y&1&&!Le(n.src,s=h[0].image)&&a(n,"src",s),y&1&&o!==(o=h[0].name)&&a(n,"alt",o),y&1&&u!==(u=h[0].name+"")&&q(g,u),h[3]&&h[0].rarity?m?m.p(h,y):(m=Ul(h),m.c(),m.m(c,v)):m&&(m.d(1),m=null),h[1]&&h[0].attacks&&h[0].attacks.length>0?b?b.p(h,y):(b=Vl(h),b.c(),b.m(c,null)):b&&(b.d(1),b=null)},i:ee,o:ee,d(h){h&&A(e),m&&m.d(),b&&b.d()}}}function os(t,e,l){let{card:n}=e,{showAttacks:s=!1}=e,{highlightedAttack:o=null}=e,{showRarity:i=!1}=e;return t.$$set=c=>{"card"in c&&l(0,n=c.card),"showAttacks"in c&&l(1,s=c.showAttacks),"highlightedAttack"in c&&l(2,o=c.highlightedAttack),"showRarity"in c&&l(3,i=c.showRarity)},[n,s,o,i]}class is extends $e{constructor(e){super(),Xe(this,e,os,rs,Oe,{card:0,showAttacks:1,highlightedAttack:2,showRarity:3})}}function Gl(t){let e;return{c(){e=f("span"),e.textContent="1.",a(e,"class","question-number svelte-174fqld")},m(l,n){z(l,e,n)},d(l){l&&A(e)}}}function Jl(t){let e,l,n,s,o=t[0].secondQuestion+"",i,c,d,u,g,p,v;return{c(){e=f("div"),l=f("span"),l.textContent="2.",n=_(),s=f("h3"),i=k(o),c=_(),d=f("div"),u=f("input"),a(l,"class","question-number svelte-174fqld"),a(s,"class","question-text svelte-174fqld"),a(e,"class","question-item svelte-174fqld"),ue(e,"padding-top","2em"),a(u,"type","number"),a(u,"placeholder",g=t[1].enterAnswer),a(u,"class","answer-input svelte-174fqld"),a(d,"class","input-group svelte-174fqld")},m(m,b){z(m,e,b),r(e,l),r(e,n),r(e,s),r(s,i),z(m,c,b),z(m,d,b),r(d,u),_e(u,t[3]),p||(v=[K(u,"input",t[8]),K(u,"keypress",t[5])],p=!0)},p(m,b){b&1&&o!==(o=m[0].secondQuestion+"")&&q(i,o),b&2&&g!==(g=m[1].enterAnswer)&&a(u,"placeholder",g),b&8&&Bt(u.value)!==m[3]&&_e(u,m[3])},d(m){m&&(A(e),A(c),A(d)),p=!1,ke(v)}}}function as(t){let e,l,n,s,o,i,c,d,u,g=t[0].questionText+"",p,v,m,b,h,y,N,M,L=t[1].submitAnswer+"",T,E,S,I,H,R,P;n=new is({props:{card:t[0].card,showRarity:!0}});let Q=t[0].secondQuestion&&Gl(),W=t[0].secondQuestion&&Jl(t);return{c(){e=f("div"),l=f("div"),ut(n.$$.fragment),s=_(),o=f("div"),i=f("div"),c=f("div"),Q&&Q.c(),d=_(),u=f("h3"),p=k(g),v=_(),m=f("div"),b=f("input"),y=_(),W&&W.c(),N=_(),M=f("button"),T=k(L),S=_(),I=f("a"),I.innerHTML='<img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=8a579qzwg3m7e55xdnrwxqlhshnb21xd" border="0" title="page counter" alt="page counter" style="width: 20px;"/>',a(l,"class","card-display svelte-174fqld"),a(u,"class","question-text svelte-174fqld"),a(c,"class","question-item svelte-174fqld"),a(b,"type","number"),a(b,"placeholder",h=t[1].enterAnswer),a(b,"class","answer-input svelte-174fqld"),a(m,"class","input-group svelte-174fqld"),a(M,"class","submit-btn btn-primary svelte-174fqld"),ue(M,"margin-top","2em"),M.disabled=E=!t[2]||t[0].secondQuestion&&!t[3],a(i,"class","questions-list svelte-174fqld"),a(o,"class","question-container svelte-174fqld"),a(e,"class","quiz-view svelte-174fqld"),a(I,"href","https://www.freecounterstat.com"),a(I,"title","page counter")},m(D,U){z(D,e,U),r(e,l),Je(n,l,null),r(e,s),r(e,o),r(o,i),r(i,c),Q&&Q.m(c,null),r(c,d),r(c,u),r(u,p),r(i,v),r(i,m),r(m,b),_e(b,t[2]),r(i,y),W&&W.m(i,null),r(i,N),r(i,M),r(M,T),z(D,S,U),z(D,I,U),H=!0,R||(P=[K(b,"input",t[7]),K(b,"keypress",t[5]),K(M,"click",t[4])],R=!0)},p(D,[U]){const V={};U&1&&(V.card=D[0].card),n.$set(V),D[0].secondQuestion?Q||(Q=Gl(),Q.c(),Q.m(c,d)):Q&&(Q.d(1),Q=null),(!H||U&1)&&g!==(g=D[0].questionText+"")&&q(p,g),(!H||U&2&&h!==(h=D[1].enterAnswer))&&a(b,"placeholder",h),U&4&&Bt(b.value)!==D[2]&&_e(b,D[2]),D[0].secondQuestion?W?W.p(D,U):(W=Jl(D),W.c(),W.m(i,N)):W&&(W.d(1),W=null),(!H||U&2)&&L!==(L=D[1].submitAnswer+"")&&q(T,L),(!H||U&13&&E!==(E=!D[2]||D[0].secondQuestion&&!D[3]))&&(M.disabled=E)},i(D){H||(Se(n.$$.fragment,D),H=!0)},o(D){Te(n.$$.fragment,D),H=!1},d(D){D&&(A(e),A(S),A(I)),Ze(n),Q&&Q.d(),W&&W.d(),R=!1,ke(P)}}}function cs(t,e,l){let{question:n}=e,{t:s}=e,{currentSet:o}=e;const i=Kt();let c="",d="";function u(){const m=parseInt(c,10);if(!isNaN(m))if(n.secondQuestion&&n.secondAnswer!==void 0){const b=parseInt(d,10);isNaN(b)||i("answer",{firstAnswer:m,secondAnswer:b})}else i("answer",{firstAnswer:m})}function g(m){m.key==="Enter"&&u()}function p(){c=Bt(this.value),l(2,c)}function v(){d=Bt(this.value),l(3,d)}return t.$$set=m=>{"question"in m&&l(0,n=m.question),"t"in m&&l(1,s=m.t),"currentSet"in m&&l(6,o=m.currentSet)},[n,s,c,d,u,g,o,p,v]}class us extends $e{constructor(e){super(),Xe(this,e,cs,as,Oe,{question:0,t:1,currentSet:6})}}function fs(t){let e,l,n,s=t[4].notQuite+"",o,i,c,d=t[4].incorrectMessage+"",u,g,p,v,m,b=t[4].correctMessage.toLowerCase()+"",h,y,N,M,L,T,E,S,I=t[4].encouragement+"",H,R=t[5]&&t[6]>0&&Zl(t);return{c(){e=f("div"),e.textContent="‚úó",l=_(),n=f("h2"),o=k(s),i=_(),c=f("p"),u=k(d),g=_(),p=f("strong"),v=k(t[2]),m=k(", "),h=k(b),y=_(),N=f("strong"),M=k(t[1]),L=k("."),T=_(),R&&R.c(),E=_(),S=f("p"),H=k(I),a(e,"class","result-icon error svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(p,"class","svelte-1v74pgf"),a(N,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf"),a(S,"class","encouragement svelte-1v74pgf")},m(P,Q){z(P,e,Q),z(P,l,Q),z(P,n,Q),r(n,o),z(P,i,Q),z(P,c,Q),r(c,u),r(c,g),r(c,p),r(p,v),r(c,m),r(c,h),r(c,y),r(c,N),r(N,M),r(c,L),z(P,T,Q),R&&R.m(P,Q),z(P,E,Q),z(P,S,Q),r(S,H)},p(P,Q){Q&16&&s!==(s=P[4].notQuite+"")&&q(o,s),Q&16&&d!==(d=P[4].incorrectMessage+"")&&q(u,d),Q&4&&q(v,P[2]),Q&16&&b!==(b=P[4].correctMessage.toLowerCase()+"")&&q(h,b),Q&2&&q(M,P[1]),P[5]&&P[6]>0?R?R.p(P,Q):(R=Zl(P),R.c(),R.m(E.parentNode,E)):R&&(R.d(1),R=null),Q&16&&I!==(I=P[4].encouragement+"")&&q(H,I)},d(P){P&&(A(e),A(l),A(n),A(i),A(c),A(T),A(E),A(S)),R&&R.d(P)}}}function ds(t){let e,l,n,s=t[4].correct+"",o,i,c,d=t[4].correctMessage+"",u,g,p,v,m,b=(t[1]===1?t[4].hit:t[4].hits)+"",h,y,N,M,L,T=t[5]&&!t[3]&&Xl(t),E=t[3]&&$l(t);return{c(){e=f("div"),e.textContent="‚úì",l=_(),n=f("h2"),o=k(s),i=_(),c=f("p"),u=k(d),g=_(),p=f("strong"),v=k(t[1]),m=_(),h=k(b),y=k("!"),N=_(),T&&T.c(),M=_(),E&&E.c(),L=fl(),a(e,"class","result-icon success svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(p,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf")},m(S,I){z(S,e,I),z(S,l,I),z(S,n,I),r(n,o),z(S,i,I),z(S,c,I),r(c,u),r(c,g),r(c,p),r(p,v),r(c,m),r(c,h),r(c,y),z(S,N,I),T&&T.m(S,I),z(S,M,I),E&&E.m(S,I),z(S,L,I)},p(S,I){I&16&&s!==(s=S[4].correct+"")&&q(o,s),I&16&&d!==(d=S[4].correctMessage+"")&&q(u,d),I&2&&q(v,S[1]),I&18&&b!==(b=(S[1]===1?S[4].hit:S[4].hits)+"")&&q(h,b),S[5]&&!S[3]?T?T.p(S,I):(T=Xl(S),T.c(),T.m(M.parentNode,M)):T&&(T.d(1),T=null),S[3]?E?E.p(S,I):(E=$l(S),E.c(),E.m(L.parentNode,L)):E&&(E.d(1),E=null)},d(S){S&&(A(e),A(l),A(n),A(i),A(c),A(N),A(M),A(L)),T&&T.d(S),E&&E.d(S)}}}function Zl(t){let e,l=t[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.",n;return{c(){e=f("p"),n=k(l),a(e,"class","streak-lost svelte-1v74pgf")},m(s,o){z(s,e,o),r(e,n)},p(s,o){o&16&&l!==(l=s[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.")&&q(n,l)},d(s){s&&A(e)}}}function Xl(t){let e,l,n,s,o,i,c;function d(p,v){return p[7]===1?ps:gs}let u=d(t),g=u(t);return{c(){e=f("div"),l=f("p"),g.c(),n=_(),s=f("div"),o=f("div"),i=_(),c=f("div"),a(l,"class","streak-text svelte-1v74pgf"),a(o,"class","streak-dot svelte-1v74pgf"),$(o,"filled",t[7]>=1),a(c,"class","streak-dot svelte-1v74pgf"),$(c,"filled",t[7]>=2),a(s,"class","streak-progress svelte-1v74pgf"),a(e,"class","streak-info svelte-1v74pgf")},m(p,v){z(p,e,v),r(e,l),g.m(l,null),r(e,n),r(e,s),r(s,o),r(s,i),r(s,c)},p(p,v){u===(u=d(p))&&g?g.p(p,v):(g.d(1),g=u(p),g&&(g.c(),g.m(l,null))),v&128&&$(o,"filled",p[7]>=1),v&128&&$(c,"filled",p[7]>=2)},d(p){p&&A(e),g.d()}}}function gs(t){let e=t[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!",l;return{c(){l=k(e)},m(n,s){z(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!")&&q(l,e)},d(n){n&&A(l)}}}function ps(t){let e=t[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!",l;return{c(){l=k(e)},m(n,s){z(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!")&&q(l,e)},d(n){n&&A(l)}}}function $l(t){let e,l,n=t[4].youWonThisCard+"",s,o,i,c,d,u,g,p,v,m=t[3].name+"",b;return{c(){e=f("div"),l=f("h3"),s=k(n),o=_(),i=f("div"),c=f("div"),d=f("img"),p=_(),v=f("span"),b=k(m),a(l,"class","svelte-1v74pgf"),Le(d.src,u=t[3].image)||a(d,"src",u),a(d,"alt",g=t[3].name),a(d,"class","svelte-1v74pgf"),a(v,"class","card-name svelte-1v74pgf"),a(c,"class","mini-card svelte-1v74pgf"),a(i,"class","cards-grid svelte-1v74pgf"),a(e,"class","won-cards svelte-1v74pgf")},m(h,y){z(h,e,y),r(e,l),r(l,s),r(e,o),r(e,i),r(i,c),r(c,d),r(c,p),r(c,v),r(v,b)},p(h,y){y&16&&n!==(n=h[4].youWonThisCard+"")&&q(s,n),y&8&&!Le(d.src,u=h[3].image)&&a(d,"src",u),y&8&&g!==(g=h[3].name)&&a(d,"alt",g),y&8&&m!==(m=h[3].name+"")&&q(b,m)},d(h){h&&A(e)}}}function ms(t){let e,l,n,s,o=t[4].nextQuestion+"",i,c,d;function u(v,m){return v[0]?ds:fs}let g=u(t),p=g(t);return{c(){e=f("div"),l=f("div"),p.c(),n=_(),s=f("button"),i=k(o),a(l,"class","result-card svelte-1v74pgf"),$(l,"correct",t[0]),$(l,"incorrect",!t[0]),a(s,"class","next-btn btn-primary svelte-1v74pgf"),a(e,"class","result-view svelte-1v74pgf")},m(v,m){z(v,e,m),r(e,l),p.m(l,null),r(e,n),r(e,s),r(s,i),c||(d=K(s,"click",t[8]),c=!0)},p(v,[m]){g===(g=u(v))&&p?p.p(v,m):(p.d(1),p=g(v),p&&(p.c(),p.m(l,null))),m&1&&$(l,"correct",v[0]),m&1&&$(l,"incorrect",!v[0]),m&16&&o!==(o=v[4].nextQuestion+"")&&q(i,o)},i:ee,o:ee,d(v){v&&A(e),p.d(),c=!1,d()}}}function vs(t,e,l){let{isCorrect:n}=e,{correctAnswer:s}=e,{userAnswer:o}=e,{wonCard:i}=e,{t:c}=e,{needsStreak:d=!1}=e,{streakProgress:u=0}=e,{currentStreak:g=0}=e;const p=Kt();function v(){p("next")}return t.$$set=m=>{"isCorrect"in m&&l(0,n=m.isCorrect),"correctAnswer"in m&&l(1,s=m.correctAnswer),"userAnswer"in m&&l(2,o=m.userAnswer),"wonCard"in m&&l(3,i=m.wonCard),"t"in m&&l(4,c=m.t),"needsStreak"in m&&l(5,d=m.needsStreak),"streakProgress"in m&&l(6,u=m.streakProgress),"currentStreak"in m&&l(7,g=m.currentStreak)},[n,s,o,i,c,d,u,g,v]}class hs extends $e{constructor(e){super(),Xe(this,e,vs,ms,Oe,{isCorrect:0,correctAnswer:1,userAnswer:2,wonCard:3,t:4,needsStreak:5,streakProgress:6,currentStreak:7})}}function _s(){try{const t=Zn(),e=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=`pokemon-collection-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}catch(t){throw console.error("Error downloading backup:",t),new Error("Failed to download backup")}}function ks(t){return new Promise(e=>{const l=new FileReader;l.onload=n=>{var s;try{const o=(s=n.target)==null?void 0:s.result,i=Xn(o);e(i)}catch(o){console.error("Error reading file:",o),e({success:!1,error:"Failed to read file"})}},l.onerror=()=>{e({success:!1,error:"Failed to read file"})},l.readAsText(t)})}function xl(t,e,l){const n=t.slice();return n[43]=e[l],n}function en(t,e,l){const n=t.slice();return n[46]=e[l],n}function tn(t,e,l){const n=t.slice();return n[43]=e[l],n}function ln(t,e,l){const n=t.slice();return n[46]=e[l],n}function bs(t,e,l){const n=t.slice();return n[53]=e[l],n}function ws(t){let e;return{c(){e=f("option"),e.textContent=`${t[53].name}`,e.__value=t[53].id,_e(e,e.__value),a(e,"class","svelte-f04vdu")},m(l,n){z(l,e,n)},p:ee,d(l){l&&A(e)}}}function nn(t){let e,l,n=t[2]==="en"?`${t[14]} missing`:`${t[14]} mangler`,s,o;return{c(){e=f("span"),l=k("("),s=k(n),o=k(")"),a(e,"class","missing-count svelte-f04vdu")},m(i,c){z(i,e,c),r(e,l),r(e,s),r(e,o)},p(i,c){c[0]&16388&&n!==(n=i[2]==="en"?`${i[14]} missing`:`${i[14]} mangler`)&&q(s,n)},d(i){i&&A(e)}}}function ys(t){let e=t[2]==="en"?`Defeat ${t[17]>0?t[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${t[17]>0?t[17].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`,l;return{c(){l=k(e)},m(n,s){z(n,l,s)},p(n,s){s[0]&131076&&e!==(e=n[2]==="en"?`Defeat ${n[17]>0?n[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${n[17]>0?n[17].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`)&&q(l,e)},d(n){n&&A(l)}}}function Cs(t){let e=t[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!",l;return{c(){l=k(e)},m(n,s){z(n,l,s)},p(n,s){s[0]&4&&e!==(e=n[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!")&&q(l,e)},d(n){n&&A(l)}}}function sn(t){let e,l;return{c(){e=f("div"),l=f("div"),a(l,"class","hp-progress-fill svelte-f04vdu"),ue(l,"width",t[15]+"%"),a(e,"class","hp-progress-bar svelte-f04vdu")},m(n,s){z(n,e,s),r(e,l)},p(n,s){s[0]&32768&&ue(l,"width",n[15]+"%")},d(n){n&&A(e)}}}function rn(t){let e,l,n,s,o,i,c;function d(){return t[34](t[46])}return{c(){e=f("button"),l=f("img"),o=_(),Le(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),$(l,"locked",!t[16]),a(e,"class","rare-thumbnail svelte-f04vdu"),$(e,"unlocked",t[16])},m(u,g){z(u,e,g),r(e,l),r(e,o),i||(c=K(e,"click",d),i=!0)},p(u,g){t=u,g[0]&8&&!Le(l.src,n=t[46].image)&&a(l,"src",n),g[0]&8&&s!==(s=t[46].name)&&a(l,"alt",s),g[0]&65536&&$(l,"locked",!t[16]),g[0]&65536&&$(e,"unlocked",t[16])},d(u){u&&A(e),i=!1,c()}}}function Ss(t){let e,l=Ce(t[5]),n=[];for(let s=0;s<l.length;s+=1)n[s]=un(en(t,l,s));return{c(){e=f("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","cards-grid svelte-f04vdu")},m(s,o){z(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&536870944){l=Ce(s[5]);let i;for(i=0;i<l.length;i+=1){const c=en(s,l,i);n[i]?n[i].p(c,o):(n[i]=un(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),Ge(n,s)}}}function As(t){let e,l,n,s,o=t[1].noCardsYet+"",i,c,d,u=t[1].noCardsDescription+"",g;return{c(){e=f("div"),l=f("div"),l.textContent="üì¶",n=_(),s=f("h3"),i=k(o),c=_(),d=f("p"),g=k(u),a(l,"class","empty-icon svelte-f04vdu"),a(s,"class","svelte-f04vdu"),a(d,"class","svelte-f04vdu"),a(e,"class","empty-state svelte-f04vdu")},m(p,v){z(p,e,v),r(e,l),r(e,n),r(e,s),r(s,i),r(e,c),r(e,d),r(d,g)},p(p,v){v[0]&2&&o!==(o=p[1].noCardsYet+"")&&q(i,o),v[0]&2&&u!==(u=p[1].noCardsDescription+"")&&q(g,u)},d(p){p&&A(e)}}}function on(t){let e,l,n=t[46].hp+"",s;return{c(){e=f("span"),l=k("HP "),s=k(n),a(e,"class","hp svelte-f04vdu")},m(o,i){z(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&32&&n!==(n=o[46].hp+"")&&q(s,n)},d(o){o&&A(e)}}}function an(t){let e,l=Ce(t[46].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=cn(tn(t,l,s));return{c(){e=f("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","types svelte-f04vdu")},m(s,o){z(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&32){l=Ce(s[46].types);let i;for(i=0;i<l.length;i+=1){const c=tn(s,l,i);n[i]?n[i].p(c,o):(n[i]=cn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),Ge(n,s)}}}function cn(t){let e,l=t[43]+"",n;return{c(){e=f("span"),n=k(l),a(e,"class","type svelte-f04vdu")},m(s,o){z(s,e,o),r(e,n)},p(s,o){o[0]&32&&l!==(l=s[43]+"")&&q(n,l)},d(s){s&&A(e)}}}function un(t){let e,l,n,s,o,i,c,d=t[46].name+"",u,g,p,v,m,b,h=t[46].hp&&on(t),y=t[46].types&&t[46].types.length>0&&an(t);function N(){return t[35](t[46])}return{c(){e=f("button"),l=f("img"),o=_(),i=f("div"),c=f("h4"),u=k(d),g=_(),h&&h.c(),p=_(),y&&y.c(),v=_(),Le(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(i,"class","card-details svelte-f04vdu"),a(e,"class","collection-card svelte-f04vdu")},m(M,L){z(M,e,L),r(e,l),r(e,o),r(e,i),r(i,c),r(c,u),r(i,g),h&&h.m(i,null),r(i,p),y&&y.m(i,null),r(e,v),m||(b=K(e,"click",N),m=!0)},p(M,L){t=M,L[0]&32&&!Le(l.src,n=t[46].image)&&a(l,"src",n),L[0]&32&&s!==(s=t[46].name)&&a(l,"alt",s),L[0]&32&&d!==(d=t[46].name+"")&&q(u,d),t[46].hp?h?h.p(t,L):(h=on(t),h.c(),h.m(i,p)):h&&(h.d(1),h=null),t[46].types&&t[46].types.length>0?y?y.p(t,L):(y=an(t),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},d(M){M&&A(e),h&&h.d(),y&&y.d(),m=!1,b()}}}function fn(t){let e,l=t[10].text+"",n;return{c(){e=f("div"),n=k(l),a(e,"class","message svelte-f04vdu"),$(e,"success",t[10].type==="success"),$(e,"error",t[10].type==="error")},m(s,o){z(s,e,o),r(e,n)},p(s,o){o[0]&1024&&l!==(l=s[10].text+"")&&q(n,l),o[0]&1024&&$(e,"success",s[10].type==="success"),o[0]&1024&&$(e,"error",s[10].type==="error")},d(s){s&&A(e)}}}function dn(t){let e,l,n,s,o,i,c,d,u,g,p=t[8].name+"",v,m,b,h,y,N,M=t[8].hp&&gn(t),L=t[8].types&&t[8].types.length>0&&pn(t),T=t[8].rarity&&vn(t);return{c(){e=f("div"),l=f("div"),n=f("button"),n.textContent="√ó",s=_(),o=f("img"),d=_(),u=f("div"),g=f("h3"),v=k(p),m=_(),M&&M.c(),b=_(),L&&L.c(),h=_(),T&&T.c(),a(n,"class","close-modal svelte-f04vdu"),Le(o.src,i=t[8].image)||a(o,"src",i),a(o,"alt",c=t[8].name),a(o,"class","modal-card-image svelte-f04vdu"),a(g,"class","svelte-f04vdu"),a(u,"class","modal-card-info svelte-f04vdu"),a(l,"class","card-modal svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(E,S){z(E,e,S),r(e,l),r(l,n),r(l,s),r(l,o),r(l,d),r(l,u),r(u,g),r(g,v),r(u,m),M&&M.m(u,null),r(u,b),L&&L.m(u,null),r(u,h),T&&T.m(u,null),y||(N=[K(n,"click",t[30]),K(l,"click",wn(t[33])),K(e,"click",t[30]),K(e,"keydown",t[37])],y=!0)},p(E,S){S[0]&256&&!Le(o.src,i=E[8].image)&&a(o,"src",i),S[0]&256&&c!==(c=E[8].name)&&a(o,"alt",c),S[0]&256&&p!==(p=E[8].name+"")&&q(v,p),E[8].hp?M?M.p(E,S):(M=gn(E),M.c(),M.m(u,b)):M&&(M.d(1),M=null),E[8].types&&E[8].types.length>0?L?L.p(E,S):(L=pn(E),L.c(),L.m(u,h)):L&&(L.d(1),L=null),E[8].rarity?T?T.p(E,S):(T=vn(E),T.c(),T.m(u,null)):T&&(T.d(1),T=null)},d(E){E&&A(e),M&&M.d(),L&&L.d(),T&&T.d(),y=!1,ke(N)}}}function gn(t){let e,l,n=t[8].hp+"",s;return{c(){e=f("div"),l=k("HP: "),s=k(n),a(e,"class","modal-hp svelte-f04vdu")},m(o,i){z(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].hp+"")&&q(s,n)},d(o){o&&A(e)}}}function pn(t){let e,l=Ce(t[8].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=mn(xl(t,l,s));return{c(){e=f("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","modal-types svelte-f04vdu")},m(s,o){z(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&256){l=Ce(s[8].types);let i;for(i=0;i<l.length;i+=1){const c=xl(s,l,i);n[i]?n[i].p(c,o):(n[i]=mn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),Ge(n,s)}}}function mn(t){let e,l=t[43]+"",n;return{c(){e=f("span"),n=k(l),a(e,"class","modal-type svelte-f04vdu")},m(s,o){z(s,e,o),r(e,n)},p(s,o){o[0]&256&&l!==(l=s[43]+"")&&q(n,l)},d(s){s&&A(e)}}}function vn(t){let e,l,n=t[8].rarity+"",s;return{c(){e=f("div"),l=k("Rarity: "),s=k(n),a(e,"class","modal-rarity svelte-f04vdu")},m(o,i){z(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].rarity+"")&&q(s,n)},d(o){o&&A(e)}}}function hn(t){let e,l,n,s=t[1].clearCollectionTitle+"",o,i,c,d=t[1].clearCollectionMessage+"",u,g,p,v,m=t[1].cancel+"",b,h,y,N=t[1].clearCollection+"",M,L,T;return{c(){e=f("div"),l=f("div"),n=f("h3"),o=k(s),i=_(),c=f("p"),u=k(d),g=_(),p=f("div"),v=f("button"),b=k(m),h=_(),y=f("button"),M=k(N),a(n,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(v,"class","btn-secondary"),a(y,"class","btn-error"),a(p,"class","dialog-actions svelte-f04vdu"),a(l,"class","dialog svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(E,S){z(E,e,S),r(e,l),r(l,n),r(n,o),r(l,i),r(l,c),r(c,u),r(l,g),r(l,p),r(p,v),r(v,b),r(p,h),r(p,y),r(y,M),L||(T=[K(v,"click",t[25]),K(y,"click",t[26]),K(l,"click",wn(t[32])),K(l,"keydown",Ms),K(e,"click",t[25]),K(e,"keydown",t[38])],L=!0)},p(E,S){S[0]&2&&s!==(s=E[1].clearCollectionTitle+"")&&q(o,s),S[0]&2&&d!==(d=E[1].clearCollectionMessage+"")&&q(u,d),S[0]&2&&m!==(m=E[1].cancel+"")&&q(b,m),S[0]&2&&N!==(N=E[1].clearCollection+"")&&q(M,N)},d(E){E&&A(e),L=!1,ke(T)}}}function zs(t){let e,l,n,s,o,i,c=t[2]==="en"?`Quiz Cards: ${t[12]} / ${t[13]}`:`Quiz-kort: ${t[12]} / ${t[13]}`,d,u,g,p=t[2]==="en"?`Total: ${t[6]} / ${t[7]}`:`Totalt: ${t[6]} / ${t[7]}`,v,m,b,h,y,N,M,L,T,E,S,I,H,R=t[0].cards.length+"",P,Q,W,D=t[1].cardsCollected+"",U,V,ne,J,se=t[0].stats.totalQuestions+"",ie,he,Z,x=t[1].questionsAnswered+"",G,be,O,Y,re=t[0].stats.correctAnswers+"",B,te,C,j=t[1].correctAnswers+"",le,oe,fe,Qe,we,ft,dt,ae,xe=t[1].accuracy+"",gt,Vt,Ae,et,tt,Be,At=(t[1].language||"Language")+"",Wt,vl,hl,Ie,He,Ke,_l,lt,Ue,zt=t[1].gradeLevel+"",Yt,kl,bl,ye,Pe,Mt=t[1].gradeLevel+"",Gt,wl,Ne,qt=t[1].gradeLevel+"",Jt,yl,Re,Et=t[1].gradeLevel+"",Zt,Cl,De,Lt=t[1].gradeLevel+"",Xt,Sl,je,Tt=t[1].gradeLevel+"",$t,Al,zl,ze,pt,Qt=t[1].exportBackup+"",xt,Ml,mt,It=t[1].importBackup+"",el,ql,vt,Pt=t[1].clearThisSet+"",tl,El,Ve,Ll,ht,Tl,_t,Ql,ll,kt,bt,nl,Il,Pl=Ce(Ft),We=[];for(let w=0;w<Pl.length;w+=1)We[w]=ws(bs(t,Pl,w));let de=t[14]>0&&nn(t);function Nl(w,F){return w[16]?Cs:ys}let Nt=Nl(t),Me=Nt(t),ge=!t[16]&&sn(t),nt=Ce(t[3]),ce=[];for(let w=0;w<nt.length;w+=1)ce[w]=rn(ln(t,nt,w));function Rl(w,F){return w[0].cards.length===0?As:Ss}let Rt=Rl(t),qe=Rt(t),pe=t[10]&&fn(t),me=t[8]&&dn(t),ve=t[11]&&hn(t);return{c(){e=f("div"),l=f("div"),n=f("select");for(let w=0;w<We.length;w+=1)We[w].c();s=_(),o=f("div"),i=f("div"),d=k(c),u=_(),g=f("div"),v=k(p),m=_(),de&&de.c(),b=_(),h=f("div"),y=f("div"),Me.c(),N=_(),ge&&ge.c(),M=_(),L=f("div");for(let w=0;w<ce.length;w+=1)ce[w].c();T=_(),qe.c(),E=_(),S=f("div"),I=f("div"),H=f("div"),P=k(R),Q=_(),W=f("div"),U=k(D),V=_(),ne=f("div"),J=f("div"),ie=k(se),he=_(),Z=f("div"),G=k(x),be=_(),O=f("div"),Y=f("div"),B=k(re),te=_(),C=f("div"),le=k(j),oe=_(),fe=f("div"),Qe=f("div"),we=k(t[18]),ft=k("%"),dt=_(),ae=f("div"),gt=k(xe),Vt=_(),Ae=f("div"),et=f("div"),tt=f("div"),Be=f("label"),Wt=k(At),vl=k(":"),hl=_(),Ie=f("select"),He=f("option"),He.textContent="English",Ke=f("option"),Ke.textContent="Norsk",_l=_(),lt=f("div"),Ue=f("label"),Yt=k(zt),kl=k(":"),bl=_(),ye=f("select"),Pe=f("option"),Gt=k(Mt),wl=k(" 1"),Ne=f("option"),Jt=k(qt),yl=k(" 2"),Re=f("option"),Zt=k(Et),Cl=k(" 3"),De=f("option"),Xt=k(Lt),Sl=k(" 4"),je=f("option"),$t=k(Tt),Al=k(" 5"),zl=_(),ze=f("div"),pt=f("button"),xt=k(Qt),Ml=_(),mt=f("button"),el=k(It),ql=_(),vt=f("button"),tl=k(Pt),El=_(),Ve=f("input"),Ll=_(),ht=f("p"),ht.textContent="This website is not produced, endorsed, supported, or affiliated with Nintendo or The Pok√©mon Company. Data from https://tcgdex.dev/. Pok√©mon and all elements of the Pok√©mon franchise are ¬© 1995-2025 Nintendo, GAME FREAK inc. TM ¬© and Creatures Inc.",Tl=_(),_t=f("p"),_t.textContent="Our website uses cookies in the form of local storage for functionality purposes only. These cookies are necessary to save your progress in the game while you are playing and for the next time you want to play. You can choose to block or delete cookies in your browser, but this will affect the functionality of our website. We do not transmit any other user data. The website code is delivered to your computer by servers at netlify.com.",Ql=_(),pe&&pe.c(),ll=_(),me&&me.c(),kt=_(),ve&&ve.c(),bt=fl(),a(n,"class","set-selector svelte-f04vdu"),a(i,"class","regular-cards-count svelte-f04vdu"),a(g,"class","total-cards-count svelte-f04vdu"),a(o,"class","set-counter svelte-f04vdu"),a(l,"class","set-selector-container svelte-f04vdu"),a(y,"class","rare-section-text svelte-f04vdu"),a(L,"class","rare-cards-thumbnails svelte-f04vdu"),a(h,"class","rare-cards-section svelte-f04vdu"),a(H,"class","stat-value svelte-f04vdu"),a(W,"class","stat-label svelte-f04vdu"),a(I,"class","stat-card svelte-f04vdu"),a(J,"class","stat-value svelte-f04vdu"),a(Z,"class","stat-label svelte-f04vdu"),a(ne,"class","stat-card svelte-f04vdu"),a(Y,"class","stat-value svelte-f04vdu"),a(C,"class","stat-label svelte-f04vdu"),a(O,"class","stat-card svelte-f04vdu"),a(Qe,"class","stat-value svelte-f04vdu"),a(ae,"class","stat-label svelte-f04vdu"),a(fe,"class","stat-card svelte-f04vdu"),a(S,"class","stats-section svelte-f04vdu"),a(Be,"for","language-select"),ue(Be,"color","white"),a(Be,"class","svelte-f04vdu"),He.__value="en",_e(He,He.__value),a(He,"class","svelte-f04vdu"),Ke.__value="no",_e(Ke,Ke.__value),a(Ke,"class","svelte-f04vdu"),a(Ie,"id","language-select"),a(Ie,"class","settings-selector svelte-f04vdu"),a(tt,"class","selector-group svelte-f04vdu"),a(Ue,"for","klassetrinn-select"),ue(Ue,"color","white"),a(Ue,"class","svelte-f04vdu"),Pe.__value=1,_e(Pe,Pe.__value),a(Pe,"class","svelte-f04vdu"),Ne.__value=2,_e(Ne,Ne.__value),a(Ne,"class","svelte-f04vdu"),Re.__value=3,_e(Re,Re.__value),a(Re,"class","svelte-f04vdu"),De.__value=4,_e(De,De.__value),a(De,"class","svelte-f04vdu"),je.__value=5,_e(je,je.__value),a(je,"class","svelte-f04vdu"),a(ye,"id","klassetrinn-select"),a(ye,"class","settings-selector svelte-f04vdu"),a(lt,"class","selector-group svelte-f04vdu"),a(et,"class","settings-selectors svelte-f04vdu"),a(pt,"class","btn-secondary"),a(mt,"class","btn-secondary"),a(vt,"class","btn-error"),a(Ve,"type","file"),a(Ve,"accept",".json"),ue(Ve,"display","none"),a(ze,"class","functions-actions svelte-f04vdu"),ue(ht,"background-color","white"),ue(ht,"padding","8px"),ue(_t,"background-color","white"),ue(_t,"padding","8px"),a(Ae,"class","functions-section svelte-f04vdu"),a(e,"class","collection-view svelte-f04vdu")},m(w,F){z(w,e,F),r(e,l),r(l,n);for(let X=0;X<We.length;X+=1)We[X]&&We[X].m(n,null);Fe(n,t[4]),r(l,s),r(l,o),r(o,i),r(i,d),r(o,u),r(o,g),r(g,v),r(g,m),de&&de.m(g,null),r(e,b),r(e,h),r(h,y),Me.m(y,null),r(h,N),ge&&ge.m(h,null),r(h,M),r(h,L);for(let X=0;X<ce.length;X+=1)ce[X]&&ce[X].m(L,null);r(e,T),qe.m(e,null),r(e,E),r(e,S),r(S,I),r(I,H),r(H,P),r(I,Q),r(I,W),r(W,U),r(S,V),r(S,ne),r(ne,J),r(J,ie),r(ne,he),r(ne,Z),r(Z,G),r(S,be),r(S,O),r(O,Y),r(Y,B),r(O,te),r(O,C),r(C,le),r(S,oe),r(S,fe),r(fe,Qe),r(Qe,we),r(Qe,ft),r(fe,dt),r(fe,ae),r(ae,gt),r(e,Vt),r(e,Ae),r(Ae,et),r(et,tt),r(tt,Be),r(Be,Wt),r(Be,vl),r(tt,hl),r(tt,Ie),r(Ie,He),r(Ie,Ke),Fe(Ie,t[2]),r(et,_l),r(et,lt),r(lt,Ue),r(Ue,Yt),r(Ue,kl),r(lt,bl),r(lt,ye),r(ye,Pe),r(Pe,Gt),r(Pe,wl),r(ye,Ne),r(Ne,Jt),r(Ne,yl),r(ye,Re),r(Re,Zt),r(Re,Cl),r(ye,De),r(De,Xt),r(De,Sl),r(ye,je),r(je,$t),r(je,Al),Fe(ye,t[19]),r(Ae,zl),r(Ae,ze),r(ze,pt),r(pt,xt),r(ze,Ml),r(ze,mt),r(mt,el),r(ze,ql),r(ze,vt),r(vt,tl),r(ze,El),r(ze,Ve),t[36](Ve),r(Ae,Ll),r(Ae,ht),r(Ae,Tl),r(Ae,_t),r(e,Ql),pe&&pe.m(e,null),z(w,ll,F),me&&me.m(w,F),z(w,kt,F),ve&&ve.m(w,F),z(w,bt,F),nl||(Il=[K(n,"change",t[20]),K(Ie,"change",t[27]),K(ye,"change",t[28]),K(pt,"click",t[21]),K(mt,"click",t[22]),K(vt,"click",t[24]),K(Ve,"change",t[23])],nl=!0)},p(w,F){if(F[0]&16&&Fe(n,w[4]),F[0]&12292&&c!==(c=w[2]==="en"?`Quiz Cards: ${w[12]} / ${w[13]}`:`Quiz-kort: ${w[12]} / ${w[13]}`)&&q(d,c),F[0]&196&&p!==(p=w[2]==="en"?`Total: ${w[6]} / ${w[7]}`:`Totalt: ${w[6]} / ${w[7]}`)&&q(v,p),w[14]>0?de?de.p(w,F):(de=nn(w),de.c(),de.m(g,null)):de&&(de.d(1),de=null),Nt===(Nt=Nl(w))&&Me?Me.p(w,F):(Me.d(1),Me=Nt(w),Me&&(Me.c(),Me.m(y,null))),w[16]?ge&&(ge.d(1),ge=null):ge?ge.p(w,F):(ge=sn(w),ge.c(),ge.m(h,M)),F[0]&536936456){nt=Ce(w[3]);let X;for(X=0;X<nt.length;X+=1){const Dl=ln(w,nt,X);ce[X]?ce[X].p(Dl,F):(ce[X]=rn(Dl),ce[X].c(),ce[X].m(L,null))}for(;X<ce.length;X+=1)ce[X].d(1);ce.length=nt.length}Rt===(Rt=Rl(w))&&qe?qe.p(w,F):(qe.d(1),qe=Rt(w),qe&&(qe.c(),qe.m(e,E))),F[0]&1&&R!==(R=w[0].cards.length+"")&&q(P,R),F[0]&2&&D!==(D=w[1].cardsCollected+"")&&q(U,D),F[0]&1&&se!==(se=w[0].stats.totalQuestions+"")&&q(ie,se),F[0]&2&&x!==(x=w[1].questionsAnswered+"")&&q(G,x),F[0]&1&&re!==(re=w[0].stats.correctAnswers+"")&&q(B,re),F[0]&2&&j!==(j=w[1].correctAnswers+"")&&q(le,j),F[0]&262144&&q(we,w[18]),F[0]&2&&xe!==(xe=w[1].accuracy+"")&&q(gt,xe),F[0]&2&&At!==(At=(w[1].language||"Language")+"")&&q(Wt,At),F[0]&4&&Fe(Ie,w[2]),F[0]&2&&zt!==(zt=w[1].gradeLevel+"")&&q(Yt,zt),F[0]&2&&Mt!==(Mt=w[1].gradeLevel+"")&&q(Gt,Mt),F[0]&2&&qt!==(qt=w[1].gradeLevel+"")&&q(Jt,qt),F[0]&2&&Et!==(Et=w[1].gradeLevel+"")&&q(Zt,Et),F[0]&2&&Lt!==(Lt=w[1].gradeLevel+"")&&q(Xt,Lt),F[0]&2&&Tt!==(Tt=w[1].gradeLevel+"")&&q($t,Tt),F[0]&524288&&Fe(ye,w[19]),F[0]&2&&Qt!==(Qt=w[1].exportBackup+"")&&q(xt,Qt),F[0]&2&&It!==(It=w[1].importBackup+"")&&q(el,It),F[0]&2&&Pt!==(Pt=w[1].clearThisSet+"")&&q(tl,Pt),w[10]?pe?pe.p(w,F):(pe=fn(w),pe.c(),pe.m(e,null)):pe&&(pe.d(1),pe=null),w[8]?me?me.p(w,F):(me=dn(w),me.c(),me.m(kt.parentNode,kt)):me&&(me.d(1),me=null),w[11]?ve?ve.p(w,F):(ve=hn(w),ve.c(),ve.m(bt.parentNode,bt)):ve&&(ve.d(1),ve=null)},i:ee,o:ee,d(w){w&&(A(e),A(ll),A(kt),A(bt)),Ge(We,w),de&&de.d(),Me.d(),ge&&ge.d(),Ge(ce,w),qe.d(),t[36](null),pe&&pe.d(),me&&me.d(w),ve&&ve.d(w),nl=!1,ke(Il)}}}const Ms=()=>{};function qs(t,e,l){let n,s,o,i,c,d,u,g,p,v,m,b;wt(t,Ht,C=>l(39,m=C)),wt(t,St,C=>l(19,b=C));let{collection:h}=e,{t:y}=e,{language:N}=e,M=null,L=[],T=[],E=m;Cn(async()=>{await S()});async function S(){try{l(31,L=await ul(E));const C=[...L].sort((j,le)=>{const oe=parseInt(j.localId||"0");return parseInt(le.localId||"0")-oe});l(3,T=C.slice(0,5))}catch(C){console.error("Error loading rare cards:",C)}}function I(C){const j=C.target;l(4,E=j.value),S()}const H=Kt();let R,P=null,Q=!1;function W(){try{_s(),V(y.collectionExported,"success")}catch{V(y.exportFailed,"error")}}function D(){R.click()}async function U(C){var oe;const j=C.target,le=(oe=j.files)==null?void 0:oe[0];if(le){try{const fe=await ks(le);fe.success?(V(y.collectionImported,"success"),H("refresh")):V(fe.error||y.importFailed,"error")}catch{V(y.importFailed,"error")}j.value=""}}function V(C,j){l(10,P={text:C,type:j}),setTimeout(()=>{l(10,P=null)},3e3)}function ne(){l(11,Q=!0)}function J(){l(11,Q=!1)}function se(){try{Jn(),l(11,Q=!1),V(y.collectionCleared,"success"),H("refresh")}catch{V(y.clearFailed,"error")}}function ie(C){const j=C.target;H("languageChange",j.value)}function he(C){const j=C.target;St.set(Number(j.value))}function Z(C){l(8,M=C)}function x(){l(8,M=null)}function G(C){Fl.call(this,t,C)}function be(C){Fl.call(this,t,C)}const O=C=>Z({...C,collectedAt:new Date().toISOString()}),Y=C=>Z(C);function re(C){il[C?"unshift":"push"](()=>{R=C,l(9,R)})}const B=C=>C.key==="Escape"&&x(),te=C=>C.key==="Escape"&&J();return t.$$set=C=>{"collection"in C&&l(0,h=C.collection),"t"in C&&l(1,y=C.t),"language"in C&&l(2,N=C.language)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(18,n=h.stats.totalQuestions>0?Math.round(h.stats.correctAnswers/h.stats.totalQuestions*100):0),t.$$.dirty[0]&1&&l(17,s=ct-(h.stats.totalHpDefeated||0)),t.$$.dirty[0]&17&&l(16,o=h.unlockedRareSets&&h.unlockedRareSets[E]||!1),t.$$.dirty[0]&1&&l(15,i=Math.min(h.stats.totalHpDefeated/ct*100,100)),t.$$.dirty[0]&17&&l(5,c=h.cards.filter(C=>C.id.startsWith(E+"-"))),t.$$.dirty[0]&32&&l(6,d=c.length),t.$$.dirty[1]&1&&l(7,u=L.length),t.$$.dirty[0]&192&&l(14,g=u-d),t.$$.dirty[1]&1&&l(13,p=L.length-5),t.$$.dirty[0]&40&&l(12,v=c.filter(C=>!T.some(le=>le.id===C.id)).length)},[h,y,N,T,E,c,d,u,M,R,P,Q,v,p,g,i,o,s,n,b,I,W,D,U,ne,J,se,ie,he,Z,x,L,G,be,O,Y,re,B,te]}class Es extends $e{constructor(e){super(),Xe(this,e,qs,zs,Oe,{collection:0,t:1,language:2},null,[-1,-1])}}function Ls(t){let e,l,n,s,o;return{c(){e=f("div"),l=f("div"),n=_(),s=f("p"),o=k(t[0]),a(l,"class","spinner svelte-1lxornd"),a(s,"class","svelte-1lxornd"),a(e,"class","loading-view svelte-1lxornd")},m(i,c){z(i,e,c),r(e,l),r(e,n),r(e,s),r(s,o)},p(i,[c]){c&1&&q(o,i[0])},i:ee,o:ee,d(i){i&&A(e)}}}function Ts(t,e,l){let{message:n="Loading..."}=e;return t.$$set=s=>{"message"in s&&l(0,n=s.message)},[n]}class Qs extends $e{constructor(e){super(),Xe(this,e,Ts,Ls,Oe,{message:0})}}function Is(t){let e,l,n,s,o,i,c,d,u,g,p;return{c(){e=f("div"),l=f("div"),l.textContent="‚ö†Ô∏è",n=_(),s=f("h2"),s.textContent="Oops!",o=_(),i=f("p"),c=k(t[0]),d=_(),u=f("button"),u.textContent="Try Again",a(l,"class","error-icon svelte-na0xmw"),a(s,"class","svelte-na0xmw"),a(i,"class","svelte-na0xmw"),a(u,"class","btn-primary"),a(e,"class","error-view svelte-na0xmw")},m(v,m){z(v,e,m),r(e,l),r(e,n),r(e,s),r(e,o),r(e,i),r(i,c),r(e,d),r(e,u),g||(p=K(u,"click",t[1]),g=!0)},p(v,[m]){m&1&&q(c,v[0])},i:ee,o:ee,d(v){v&&A(e),g=!1,p()}}}function Ps(t,e,l){let{message:n="Something went wrong"}=e;const s=Kt();function o(){s("retry")}return t.$$set=i=>{"message"in i&&l(0,n=i.message)},[n,o]}class Ns extends $e{constructor(e){super(),Xe(this,e,Ps,Is,Oe,{message:0})}}const Rs=""+new URL("headerbackground.cL6tUhZr.png",import.meta.url).href;function Ds(t,e,l){const n=t.slice();return n[42]=e[l],n}function js(t){let e,l;return e=new Es({props:{collection:t[4],t:t[16],language:t[0]}}),e.$on("refresh",t[27]),e.$on("languageChange",t[29]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&16&&(o.collection=n[4]),s[0]&65536&&(o.t=n[16]),s[0]&1&&(o.language=n[0]),e.$set(o)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Te(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Fs(t){let e,l,n,s;const o=[Ks,Hs,Bs,Os],i=[];function c(d,u){return d[1]==="loading"?0:d[1]==="quiz"&&d[2]?1:d[1]==="result"&&d[2]?2:d[1]==="error"?3:-1}return~(e=c(t))&&(l=i[e]=o[e](t)),{c(){l&&l.c(),n=fl()},m(d,u){~e&&i[e].m(d,u),z(d,n,u),s=!0},p(d,u){let g=e;e=c(d),e===g?~e&&i[e].p(d,u):(l&&(An(),Te(i[g],1,1,()=>{i[g]=null}),zn()),~e?(l=i[e],l?l.p(d,u):(l=i[e]=o[e](d),l.c()),Se(l,1),l.m(n.parentNode,n)):l=null)},i(d){s||(Se(l),s=!0)},o(d){Te(l),s=!1},d(d){d&&A(n),~e&&i[e].d(d)}}}function Os(t){let e,l;return e=new Ns({props:{message:t[8]}}),e.$on("retry",t[24]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&256&&(o.message=n[8]),e.$set(o)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Te(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Bs(t){let e,l;return e=new hs({props:{isCorrect:t[5],correctAnswer:t[2].correctAnswer,userAnswer:t[6],wonCard:t[7],t:t[16],needsStreak:t[12],streakProgress:t[13],currentStreak:t[4].currentStreak||0}}),e.$on("next",t[23]),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&32&&(o.isCorrect=n[5]),s[0]&4&&(o.correctAnswer=n[2].correctAnswer),s[0]&64&&(o.userAnswer=n[6]),s[0]&128&&(o.wonCard=n[7]),s[0]&65536&&(o.t=n[16]),s[0]&4096&&(o.needsStreak=n[12]),s[0]&8192&&(o.streakProgress=n[13]),s[0]&16&&(o.currentStreak=n[4].currentStreak||0),e.$set(o)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Te(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Hs(t){var g;let e,l,n,s,o,i,c,d=Ce(Ft),u=[];for(let p=0;p<d.length;p+=1)u[p]=Us(Ds(t,d,p));return s=new us({props:{question:t[2],t:t[16],currentSet:((g=Ft.find(t[28]))==null?void 0:g.name)||""}}),s.$on("answer",t[22]),{c(){e=f("div"),l=f("select");for(let p=0;p<u.length;p+=1)u[p].c();n=_(),ut(s.$$.fragment),a(l,"class","set-selector svelte-yp4hfz"),a(e,"class","set-selector-container svelte-yp4hfz")},m(p,v){z(p,e,v),r(e,l);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,null);Fe(l,t[17]),z(p,n,v),Je(s,p,v),o=!0,i||(c=K(l,"change",t[18]),i=!0)},p(p,v){var b;(!o||v[0]&131072)&&Fe(l,p[17]);const m={};v[0]&4&&(m.question=p[2]),v[0]&65536&&(m.t=p[16]),v[0]&2048&&(m.currentSet=((b=Ft.find(p[28]))==null?void 0:b.name)||""),s.$set(m)},i(p){o||(Se(s.$$.fragment,p),o=!0)},o(p){Te(s.$$.fragment,p),o=!1},d(p){p&&(A(e),A(n)),Ge(u,p),Ze(s,p),i=!1,c()}}}function Ks(t){let e,l;return e=new Qs({props:{message:t[16].loading}}),{c(){ut(e.$$.fragment)},m(n,s){Je(e,n,s),l=!0},p(n,s){const o={};s[0]&65536&&(o.message=n[16].loading),e.$set(o)},i(n){l||(Se(e.$$.fragment,n),l=!0)},o(n){Te(e.$$.fragment,n),l=!1},d(n){Ze(e,n)}}}function Us(t){let e;return{c(){e=f("option"),e.textContent=`${t[42].name}`,e.__value=t[42].id,_e(e,e.__value),a(e,"class","svelte-yp4hfz")},m(l,n){z(l,e,n)},p:ee,d(l){l&&A(e)}}}function _n(t){let e,l;function n(i,c){return i[15]?Vs:Ws}let s=n(t),o=s(t);return{c(){e=f("div"),l=f("div"),o.c(),a(l,"class","dialog language-dialog svelte-yp4hfz"),a(e,"class","dialog-overlay svelte-yp4hfz"),a(e,"role","button"),a(e,"tabindex","-1")},m(i,c){z(i,e,c),r(e,l),o.m(l,null)},p(i,c){s===(s=n(i))&&o?o.p(i,c):(o.d(1),o=s(i),o&&(o.c(),o.m(l,null)))},d(i){i&&A(e),o.d()}}}function Vs(t){let e,l=t[14]==="en"?"Choose Grade Level":"Velg Klassetrinn",n,s,o,i=t[14]==="en"?"Select difficulty level. You can change this anytime in My Collection.":"Velg vanskelighetsniv√•. Du kan endre dette i Min samling.",c,d,u,g,p,v,m,b=t[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)",h,y,N,M,L,T,E=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",S,I,H,R,P,Q,W=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",D,U,V,ne,J,se,ie=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",he,Z,x,G,be,O,Y=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",re,B,te;return{c(){e=f("h2"),n=k(l),s=_(),o=f("p"),c=k(i),d=_(),u=f("div"),g=f("button"),p=f("span"),p.textContent="1",v=_(),m=f("span"),h=k(b),y=_(),N=f("button"),M=f("span"),M.textContent="2",L=_(),T=f("span"),S=k(E),I=_(),H=f("button"),R=f("span"),R.textContent="3",P=_(),Q=f("span"),D=k(W),U=_(),V=f("button"),ne=f("span"),ne.textContent="4",J=_(),se=f("span"),he=k(ie),Z=_(),x=f("button"),G=f("span"),G.textContent="5",be=_(),O=f("span"),re=k(Y),a(e,"class","svelte-yp4hfz"),a(o,"class","intro-text svelte-yp4hfz"),a(p,"class","grade-number svelte-yp4hfz"),a(m,"class","grade-description svelte-yp4hfz"),a(g,"class","klassetrinn-btn svelte-yp4hfz"),a(M,"class","grade-number svelte-yp4hfz"),a(T,"class","grade-description svelte-yp4hfz"),a(N,"class","klassetrinn-btn svelte-yp4hfz"),a(R,"class","grade-number svelte-yp4hfz"),a(Q,"class","grade-description svelte-yp4hfz"),a(H,"class","klassetrinn-btn svelte-yp4hfz"),a(ne,"class","grade-number svelte-yp4hfz"),a(se,"class","grade-description svelte-yp4hfz"),a(V,"class","klassetrinn-btn svelte-yp4hfz"),a(G,"class","grade-number svelte-yp4hfz"),a(O,"class","grade-description svelte-yp4hfz"),a(x,"class","klassetrinn-btn svelte-yp4hfz"),a(u,"class","klassetrinn-buttons svelte-yp4hfz")},m(C,j){z(C,e,j),r(e,n),z(C,s,j),z(C,o,j),r(o,c),z(C,d,j),z(C,u,j),r(u,g),r(g,p),r(g,v),r(g,m),r(m,h),r(u,y),r(u,N),r(N,M),r(N,L),r(N,T),r(T,S),r(u,I),r(u,H),r(H,R),r(H,P),r(H,Q),r(Q,D),r(u,U),r(u,V),r(V,ne),r(V,J),r(V,se),r(se,he),r(u,Z),r(u,x),r(x,G),r(x,be),r(x,O),r(O,re),B||(te=[K(g,"click",t[32]),K(N,"click",t[33]),K(H,"click",t[34]),K(V,"click",t[35]),K(x,"click",t[36])],B=!0)},p(C,j){j[0]&16384&&l!==(l=C[14]==="en"?"Choose Grade Level":"Velg Klassetrinn")&&q(n,l),j[0]&16384&&i!==(i=C[14]==="en"?"Select difficulty level. You can change this anytime in My Collection.":"Velg vanskelighetsniv√•. Du kan endre dette i Min samling.")&&q(c,i),j[0]&16384&&b!==(b=C[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)")&&q(h,b),j[0]&16384&&E!==(E=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(S,E),j[0]&16384&&W!==(W=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(D,W),j[0]&16384&&ie!==(ie=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(he,ie),j[0]&16384&&Y!==(Y=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(re,Y)},d(C){C&&(A(e),A(s),A(o),A(d),A(u)),B=!1,ke(te)}}}function Ws(t){let e,l,n,s,o,i,c,d,u,g,p,v,m,b;return{c(){e=f("h2"),e.textContent="Hello!",l=_(),n=f("p"),n.textContent=`Mattespill for barn i 1-7 trinn. Samle pok√©mon kort og vinn gull kortene ved √• sl√• kort med ${ct.toLocaleString()} HP.`,s=_(),o=f("p"),o.textContent=`Math game for grades 1-7. Collect pok√©mon cards and win gold cards by beating ${ct.toLocaleString()} HP.`,i=_(),c=f("div"),d=f("button"),d.innerHTML='<span class="flag svelte-yp4hfz">üá¨üáß</span> <span>English</span>',u=_(),g=f("button"),g.innerHTML='<span class="flag svelte-yp4hfz">üá≥üá¥</span> <span>Norsk</span>',p=_(),v=f("p"),v.textContent="Laget av / Made by Sigmund (10) & Kjartan",a(e,"class","svelte-yp4hfz"),a(n,"class","intro-text svelte-yp4hfz"),a(o,"class","intro-text svelte-yp4hfz"),a(d,"class","language-btn svelte-yp4hfz"),a(g,"class","language-btn svelte-yp4hfz"),a(c,"class","language-buttons svelte-yp4hfz"),a(v,"class","credits svelte-yp4hfz")},m(h,y){z(h,e,y),z(h,l,y),z(h,n,y),z(h,s,y),z(h,o,y),z(h,i,y),z(h,c,y),r(c,d),r(c,u),r(c,g),z(h,p,y),z(h,v,y),m||(b=[K(d,"click",t[30]),K(g,"click",t[31])],m=!0)},p:ee,d(h){h&&(A(e),A(l),A(n),A(s),A(o),A(i),A(c),A(p),A(v)),m=!1,ke(b)}}}function Ys(t){var be;let e,l,n,s,o,i=t[16].appTitle+"",c,d,u,g=t[16].appTagline+"",p,v,m,b,h=t[16].playQuiz+"",y,N,M,L=t[16].myCollection+"",T,E,S=(((be=t[4])==null?void 0:be.cards.length)||0)+"",I,H,R=t[3].length+"",P,Q,W,D,U,V,ne,J,se,ie;const he=[Fs,js],Z=[];function x(O,Y){return O[9]==="quiz"?0:1}U=x(t),V=Z[U]=he[U](t);let G=t[10]&&_n(t);return{c(){e=f("div"),l=f("header"),n=f("div"),s=f("div"),o=f("h1"),c=k(i),d=_(),u=f("p"),p=k(g),v=_(),m=f("nav"),b=f("button"),y=k(h),N=_(),M=f("button"),T=k(L),E=k(" ("),I=k(S),H=k("/"),P=k(R),Q=k(")"),W=_(),D=f("main"),V.c(),ne=_(),G&&G.c(),a(o,"class","app-title svelte-yp4hfz"),a(u,"class","app-tagline svelte-yp4hfz"),a(s,"class","svelte-yp4hfz"),a(b,"class","nav-btn svelte-yp4hfz"),$(b,"active",t[9]==="quiz"),a(M,"class","nav-btn svelte-yp4hfz"),$(M,"active",t[9]==="collection"),a(m,"class","svelte-yp4hfz"),a(n,"class","header-content svelte-yp4hfz"),a(l,"class","app-header svelte-yp4hfz"),ue(l,"background-image","url("+Rs+")"),ue(l,"background-size","cover"),ue(l,"background-position","top center"),ue(l,"background-repeat","no-repeat"),a(D,"class","svelte-yp4hfz"),a(e,"class","app svelte-yp4hfz")},m(O,Y){z(O,e,Y),r(e,l),r(l,n),r(n,s),r(s,o),r(o,c),r(s,d),r(s,u),r(u,p),r(n,v),r(n,m),r(m,b),r(b,y),r(m,N),r(m,M),r(M,T),r(M,E),r(M,I),r(M,H),r(M,P),r(M,Q),r(e,W),r(e,D),Z[U].m(D,null),r(e,ne),G&&G.m(e,null),J=!0,se||(ie=[K(b,"click",t[26]),K(M,"click",t[25])],se=!0)},p(O,Y){var B;(!J||Y[0]&65536)&&i!==(i=O[16].appTitle+"")&&q(c,i),(!J||Y[0]&65536)&&g!==(g=O[16].appTagline+"")&&q(p,g),(!J||Y[0]&65536)&&h!==(h=O[16].playQuiz+"")&&q(y,h),(!J||Y[0]&512)&&$(b,"active",O[9]==="quiz"),(!J||Y[0]&65536)&&L!==(L=O[16].myCollection+"")&&q(T,L),(!J||Y[0]&16)&&S!==(S=(((B=O[4])==null?void 0:B.cards.length)||0)+"")&&q(I,S),(!J||Y[0]&8)&&R!==(R=O[3].length+"")&&q(P,R),(!J||Y[0]&512)&&$(M,"active",O[9]==="collection");let re=U;U=x(O),U===re?Z[U].p(O,Y):(An(),Te(Z[re],1,1,()=>{Z[re]=null}),zn(),V=Z[U],V?V.p(O,Y):(V=Z[U]=he[U](O),V.c()),Se(V,1),V.m(D,null)),O[10]?G?G.p(O,Y):(G=_n(O),G.c(),G.m(e,null)):G&&(G.d(1),G=null)},i(O){J||(Se(V),J=!0)},o(O){Te(V),J=!1},d(O){O&&A(e),Z[U].d(),G&&G.d(),se=!1,ke(ie)}}}function Gs(t,e,l){let n,s,o,i;wt(t,St,B=>l(38,s=B)),wt(t,Ot,B=>l(0,o=B)),wt(t,Ht,B=>l(17,i=B));let c="loading",d=null,u=[],g,p=!1,v=0,m=0,b=null,h="",y="quiz",N=!1,M=i,L=!1,T=0;Cn(()=>{l(4,g=Ee()),localStorage.getItem("tcg-seen-language-dialog")?Q():l(10,N=!0)});function E(B){const te=B.target;Ht.set(te.value),l(11,M=te.value),l(3,u=[]),Q()}function S(B){Ot.set(B)}let I="en",H=!1;function R(B){l(14,I=B),l(15,H=!0)}function P(B){Ot.set(I),St.set(B),localStorage.setItem("tcg-seen-language-dialog","true"),l(10,N=!1),l(15,H=!1),Q()}async function Q(){var B;try{l(1,c="loading"),u.length===0&&l(3,u=await ul(M));const te=[...u].sort((ae,xe)=>{const gt=parseInt(ae.localId||"0");return parseInt(xe.localId||"0")-gt}),C=new Set(te.slice(0,5).map(ae=>ae.id)),j=new Set(g.cards.map(ae=>ae.id)),le=g.stats.totalHpDefeated>=ct;let oe=u.filter(ae=>!j.has(ae.id)&&!C.has(ae.id));if(oe.length===0){if(le)throw new Error("Congratulations! You have collected all cards from this set!");oe=u.filter(ae=>!C.has(ae.id))}const fe=Vn(oe),Qe=await Un(fe.id,M),we=((B=Qe.rarity)==null?void 0:B.toLowerCase())||"common",ft=we!=="common"&&we!=="uncommon"&&we!=="rare"&&we!=="double rare",dt=es(Qe,n,ft,s);if(!dt)throw new Error("Could not generate a valid question. Please try again.");l(12,L=ft?!1:we!=="common"&&we!=="uncommon"&&we!=="rare"&&we!=="double rare"),g.streakCard&&g.streakCard.id===Qe.id?l(13,T=g.currentStreak||0):l(13,T=0),l(2,d=dt),l(1,c="quiz")}catch(te){console.error("Error loading question:",te),l(8,h=te instanceof Error?te.message:"Failed to load question"),l(1,c="error")}}async function W(){g.unlockedRareSets||l(4,g.unlockedRareSets={},g),!g.unlockedRareSets[M]&&g.stats.totalHpDefeated>=ct&&(u.length===0&&l(3,u=await ul(M)),[...u].sort((C,j)=>{const le=parseInt(C.localId||"0");return parseInt(j.localId||"0")-le}).slice(0,5).forEach(C=>{const j={id:C.id,name:C.name,image:C.image,hp:C.hp,types:C.types,rarity:C.rarity,collectedAt:new Date().toISOString()};g.cards.some(oe=>oe.id===C.id)||g.cards.push(j)}),l(4,g.unlockedRareSets[M]=!0,g),at(g))}function D(B){var C,j;if(!d)return;l(6,v=B.detail.firstAnswer),m=B.detail.secondAnswer||0,l(5,p=ts(d,v,m));const te=p&&d.card.hp?d.card.hp:0;if(Gn(p,te),l(7,b=null),p){let le=!1;if(L&&!d.secondQuestion?(l(4,g=Ee()),((C=g.streakCard)==null?void 0:C.id)===d.card.id?l(4,g.currentStreak=(g.currentStreak||0)+1,g):(l(4,g.streakCard=d.card,g),l(4,g.currentStreak=1,g)),g.currentStreak>=2&&(le=!0,l(4,g.currentStreak=0,g),l(4,g.streakCard=void 0,g)),at(g)):le=!0,le){const oe={id:d.card.id,name:d.card.name,image:d.card.image,hp:d.card.hp,types:d.card.types,rarity:d.card.rarity,collectedAt:new Date().toISOString()};Yn(oe)&&l(7,b=d.card)}}else l(4,g=Ee()),L&&((j=g.streakCard)==null?void 0:j.id)===d.card.id&&(l(4,g.currentStreak=0,g),l(4,g.streakCard=void 0,g),at(g));l(4,g=Ee()),p&&(W(),l(4,g=Ee())),l(1,c="result")}function U(){Q()}function V(){Q()}function ne(){l(9,y="collection"),l(4,g=Ee())}function J(){l(9,y="quiz")}function se(){l(4,g=Ee())}const ie=B=>B.id===M,he=B=>S(B.detail),Z=()=>R("en"),x=()=>R("no"),G=()=>P(1),be=()=>P(2),O=()=>P(3),Y=()=>P(4),re=()=>P(5);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(16,n=ss(o))},[o,c,d,u,g,p,v,b,h,y,N,M,L,T,I,H,n,i,E,S,R,P,D,U,V,ne,J,se,ie,he,Z,x,G,be,O,Y,re]}class Js extends $e{constructor(e){super(),Xe(this,e,Gs,Ys,Oe,{},null,[-1,-1])}}new Js({target:document.getElementById("app")});
